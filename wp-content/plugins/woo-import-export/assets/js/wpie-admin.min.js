function wpie_count_data_query(e){jQuery.ajax({url:wpie_plugin_settings.wpie_ajax_url,type:"POST",data:"action=wpie_execute_data_query&data_query="+e,dataType:"json",async:!1,success:function(e){"success"==e.message&&jQuery(".wpie-process-notification").attr("filter-total",e.total_results)}})}function wpie_complete_export_csv(e,t,s,r,i,o,a,p,u,c){"completed"!=t?jQuery.ajax({url:wpie_plugin_settings.wpie_ajax_url,type:"POST",data:"action=wpie_update_product_csv&status="+t+"&file_name="+e+"&product_query="+s+"&start_product="+r+"&current_product_id="+i+"&child_product="+o+"&start_child="+a+"&product_offset="+p+"&product_limit="+u+"&wpie_export_separator="+c,dataType:"json",success:function(e){if("success"==e.message){total_records=parseInt(jQuery(".wpie-process-notification").attr("filter-total"));var t=parseInt(100*e.start_product/total_records);t>100&&(t=100),jQuery(".wpie-process-percentage").html(t),wpie_complete_export_csv(e.file_name,e.status,s,e.start_product,e.current_product_id,e.child_product,e.start_child,p,e.product_limit,c)}}}):(jQuery(".wpie-process-notification").bPopup().close(),jQuery(".wpie-product-csv-file-name").val(e),jQuery(".wpie-product-csv-download").submit())}function wpie_import_product_data(e,t){"completed"!=t&&"error_completed"!=t?("error"==t&&jQuery.ajax({url:wpie_plugin_settings.wpie_ajax_url,type:"POST",data:"action=wpie_import_products_percentage",dataType:"json",async:!1,success:function(e){if("success"==e.message){var t=parseInt(100*e.product_offset/parseInt(e.total_records));product_offset=e.product_offset,jQuery(".wpie-process-percentage").html(t)}}}),jQuery.ajax({url:wpie_plugin_settings.wpie_ajax_url,type:"POST",data:"action=wpie_import_products&status="+t+"&"+e,dataType:"json",success:function(s){if("success"==s.message)if("pending"==t&&"undefined"!=typeof s.data&&wpie_product_import_log.row.add(s.data).draw(!1),"delete_completed"==s.status||"import_completed"==s.status)wpie_import_product_data("",s.status);else{if("completed"==s.status){jQuery(".wpie-process-notification").bPopup().close(),jQuery(".wpie_success_msg").html(s.message_text);var r=jQuery(".wpie_success_msg").bPopup();setTimeout(function(){r.bPopup().close()},1e3)}else if("error_completed"==s.status){jQuery(".wpie-process-notification").bPopup().close(),jQuery(".wpie_success_msg").html(s.message_text);var r=jQuery(".wpie_success_msg").bPopup();setTimeout(function(){r.bPopup().close()},3e3)}else{var i=parseInt(100*s.product_offset/parseInt(s.total_records));jQuery(".wpie-process-percentage").html(i)}wpie_import_product_data(e,s.status)}},error:function(t,s,r){wpie_import_product_data(e,"error")}})):"completed"==t&&(jQuery(".wpie-datatable-import-wrapper").html(jQuery(".wpie-datatable-wrapper-sample").html()).show(),jQuery(".wpie-datatable-import-wrapper .wpie-product-filter-data").DataTable({autoWidth:!0,scrollY:400,scrollX:!0,processing:!0,serverSide:!0,sPaginationType:"full_numbers",sServerMethod:"POST",bDestroy:!0,bFilter:!1,bSort:!1,ajax:{url:wpie_plugin_settings.wpie_ajax_url,data:function(e){e.action="wpie_get_product_import_preview"},type:"POST",dataType:"json"}}))}function wpie_count_product_cat_data_query(e){jQuery.ajax({url:wpie_plugin_settings.wpie_ajax_url,type:"POST",data:"action=wpie_execute_product_cat_data_query&data_query="+e,dataType:"json",async:!1,success:function(e){"success"==e.message&&jQuery(".wpie-process-notification").attr("filter-total",e.total_results)}})}function wpie_complete_product_cat_export_csv(e,t,s,r,i,o,a){"completed"!=t?jQuery.ajax({url:wpie_plugin_settings.wpie_ajax_url,type:"POST",data:"action=wpie_update_product_cat_csv&file_name="+e+"&product_cat_query="+s+"&start_product_cat="+r+"&product_cat_offset="+i+"&product_cat_limit="+o+"&wpie_export_separator="+a,dataType:"json",success:function(e){if("success"==e.message){var t=parseInt(100*r/parseInt(jQuery(".wpie-process-notification").attr("filter-total")));jQuery(".wpie-process-percentage").html(t),wpie_complete_product_cat_export_csv(e.file_name,e.status,s,e.start_product_cat,i,e.product_cat_limit,a)}}}):(jQuery(".wpie-process-notification").bPopup().close(),jQuery(".wpie-product-csv-file-name").val(e),jQuery(".wpie-product-csv-download").submit())}function wpie_import_product_cat_data(e,t){"completed"!=t&&"error_completed"!=t?("error"==t&&jQuery.ajax({url:wpie_plugin_settings.wpie_ajax_url,type:"POST",data:"action=wpie_import_products_cat_percentage",dataType:"json",async:!1,success:function(e){if("success"==e.message){var t=parseInt(100*e.product_cat_offset/parseInt(e.total_records));jQuery(".wpie-process-percentage").html(t)}}}),jQuery.ajax({url:wpie_plugin_settings.wpie_ajax_url,type:"POST",data:"action=wpie_import_products_cat&status="+t+"&"+e,dataType:"json",success:function(s){if("success"==s.message){if("pending"==t&&"undefined"!=typeof s.data&&wpie_product_import_log.row.add(s.data).draw(!1),0!=s.total_records){var r=parseInt(100*s.product_cat_offset/parseInt(s.total_records));jQuery(".wpie-process-percentage").html(r)}if("import_completed"==s.status)wpie_import_product_cat_data("",s.status,0);else if("completed"==s.status){jQuery(".wpie-process-notification").bPopup().close(),jQuery(".wpie_success_msg").html(s.message_text);var i=jQuery(".wpie_success_msg").bPopup();setTimeout(function(){i.bPopup().close()},1e3),wpie_import_product_cat_data(e,s.status)}else if("error_completed"==s.status){jQuery(".wpie-process-notification").bPopup().close(),jQuery(".wpie_success_msg").html(s.message_text);var i=jQuery(".wpie_success_msg").bPopup();setTimeout(function(){i.bPopup().close()},3e3),wpie_import_product_cat_data(e,s.status)}else wpie_import_product_cat_data(e,s.status)}},error:function(t,s,r){wpie_import_product_cat_data(e,"error")}})):"completed"==t&&(jQuery(".wpie-process-notification").bPopup().close(),jQuery(".wpie-datatable-import-wrapper").html(jQuery(".wpie-datatable-wrapper-sample").html()).show(),jQuery(".wpie-datatable-import-wrapper .wpie-product-filter-data").DataTable({autoWidth:!0,scrollY:400,scrollX:!0,processing:!0,serverSide:!0,sPaginationType:"full_numbers",sServerMethod:"POST",bDestroy:!0,bFilter:!1,bSort:!1,ajax:{url:wpie_plugin_settings.wpie_ajax_url,data:function(e){e.action="wpie_get_product_cat_import_preview"},type:"POST",dataType:"json"}}))}function wpie_count_order_data_query(e){jQuery.ajax({url:wpie_plugin_settings.wpie_ajax_url,type:"POST",data:"action=wpie_execute_order_data_query&data_query="+e,dataType:"json",async:!1,success:function(e){"success"==e.message&&jQuery(".wpie-process-notification").attr("filter-total",e.total_results)}})}function wpie_complete_order_export_csv(e,t,s,r,i,o,a,p,u){"completed"!=t?jQuery.ajax({url:wpie_plugin_settings.wpie_ajax_url,type:"POST",data:"action=wpie_update_order_csv&status="+t+"&file_name="+e+"&order_query="+s+"&start_order="+r+"&order_offset="+i+"&order_limit="+o+"&wpie_product_category="+a+"&wpie_product_ids="+p+"&wpie_export_separator="+u,dataType:"json",success:function(e){if("success"==e.message){var t=parseInt(100*r/parseInt(jQuery(".wpie-process-notification").attr("filter-total")));jQuery(".wpie-process-percentage").html(t),wpie_complete_order_export_csv(e.file_name,e.status,s,e.start_order,i,e.order_limit,a,p,u)}}}):(jQuery(".wpie-process-notification").bPopup().close(),jQuery(".wpie-product-csv-file-name").val(e),jQuery(".wpie-product-csv-download").submit())}function wpie_count_coupon_data_query(e){jQuery.ajax({url:wpie_plugin_settings.wpie_ajax_url,type:"POST",data:"action=wpie_execute_coupon_data_query&data_query="+e,dataType:"json",async:!1,success:function(e){"success"==e.message&&jQuery(".wpie-process-notification").attr("filter-total",e.total_results)}})}function wpie_complete_coupon_export_csv(e,t,s,r,i,o,a){"completed"!=t?jQuery.ajax({url:wpie_plugin_settings.wpie_ajax_url,type:"POST",data:"action=wpie_update_coupon_csv&file_name="+e+"&coupon_query="+s+"&start_coupon="+r+"&coupon_offset="+i+"&coupon_limit="+o+"&wpie_export_separator="+a,dataType:"json",success:function(e){if("success"==e.message){var t=parseInt(100*r/parseInt(jQuery(".wpie-process-notification").attr("filter-total")));jQuery(".wpie-process-percentage").html(t),wpie_complete_coupon_export_csv(e.file_name,e.status,s,e.start_coupon,i,e.coupon_limit,a)}}}):(jQuery(".wpie-process-notification").bPopup().close(),jQuery(".wpie-product-csv-file-name").val(e),jQuery(".wpie-product-csv-download").submit())}function wpie_import_coupon_data(e,t){"completed"!=t&&"error_completed"!=t?("error"==t&&jQuery.ajax({url:wpie_plugin_settings.wpie_ajax_url,type:"POST",data:"action=wpie_import_coupon_percentage",dataType:"json",async:!1,success:function(e){if("success"==e.message){var t=parseInt(100*e.coupon_offset/parseInt(e.total_records));product_offset=e.coupon_offset,jQuery(".wpie-process-percentage").html(t)}}}),jQuery.ajax({url:wpie_plugin_settings.wpie_ajax_url,type:"POST",data:"action=wpie_import_coupon&status="+t+"&"+e,dataType:"json",success:function(s){if("success"==s.message){if("pending"==t&&"undefined"!=typeof s.data&&wpie_product_import_log.row.add(s.data).draw(!1),0!=s.total_records){var r=parseInt(100*s.coupon_offset/parseInt(s.total_records));jQuery(".wpie-process-percentage").html(r)}if("import_completed"==s.status)wpie_import_coupon_data("",s.status,0);else if("completed"==s.status){jQuery(".wpie-process-notification").bPopup().close(),jQuery(".wpie_success_msg").html(s.message_text);var i=jQuery(".wpie_success_msg").bPopup();setTimeout(function(){i.bPopup().close()},1e3),wpie_import_coupon_data(e,s.status)}else if("error_completed"==s.status){jQuery(".wpie-process-notification").bPopup().close(),jQuery(".wpie_success_msg").html(s.message_text);var i=jQuery(".wpie_success_msg").bPopup();setTimeout(function(){i.bPopup().close()},3e3),wpie_import_coupon_data(e,s.status)}else wpie_import_coupon_data(e,s.status)}},error:function(t,s,r){wpie_import_coupon_data(e,"error")}})):"completed"==t&&(jQuery(".wpie-datatable-import-wrapper").html(jQuery(".wpie-datatable-wrapper-sample").html()).show(),jQuery(".wpie-datatable-import-wrapper .wpie-product-filter-data").DataTable({autoWidth:!0,scrollY:400,scrollX:!0,processing:!0,serverSide:!0,sPaginationType:"full_numbers",sServerMethod:"POST",bDestroy:!0,bFilter:!1,bSort:!1,ajax:{url:wpie_plugin_settings.wpie_ajax_url,data:function(e){e.action="wpie_get_coupon_import_preview"},type:"POST",dataType:"json"}}))}function wpie_count_user_data_query(e){jQuery.ajax({url:wpie_plugin_settings.wpie_ajax_url,type:"POST",data:"action=wpie_execute_user_data_query&data_query="+e,dataType:"json",async:!1,success:function(e){"success"==e.message&&jQuery(".wpie-process-notification").attr("filter-total",e.total_results)}})}function wpie_complete_user_export_csv(e,t,s,r,i,o,a){"completed"!=t?jQuery.ajax({url:wpie_plugin_settings.wpie_ajax_url,type:"POST",data:"action=wpie_update_user_csv&file_name="+e+"&user_query="+s+"&start_user="+r+"&user_offset="+i+"&user_limit="+o+"&wpie_export_separator="+a,dataType:"json",success:function(e){if("success"==e.message){var t=parseInt(100*e.start_user/parseInt(jQuery(".wpie-process-notification").attr("filter-total")));jQuery(".wpie-process-percentage").html(t),wpie_complete_user_export_csv(e.file_name,e.status,s,e.start_user,i,e.user_limit,a)}}}):(jQuery(".wpie-process-notification").bPopup().close(),jQuery(".wpie-product-csv-file-name").val(e),jQuery(".wpie-product-csv-download").submit())}function wpie_import_user_data(e,t){"completed"!=t?("error"==t&&jQuery.ajax({url:wpie_plugin_settings.wpie_ajax_url,type:"POST",data:"action=wpie_import_user_percentage",dataType:"json",async:!1,success:function(e){if("success"==e.message){var t=parseInt(100*e.user_offset/parseInt(e.total_records));jQuery(".wpie-process-percentage").html(t)}}}),jQuery.ajax({url:wpie_plugin_settings.wpie_ajax_url,type:"POST",data:"action=wpie_import_user&status="+t+"&"+e,dataType:"json",success:function(s){if("success"==s.message){"pending"==t&&"undefined"!=typeof s.data&&wpie_product_import_log.row.add(s.data).draw(!1);var r=parseInt(100*s.user_offset/parseInt(s.total_records));jQuery(".wpie-process-percentage").html(r),wpie_import_user_data(e,s.status,s.user_offset)}},error:function(t,s,r){wpie_import_user_data(e,"error")}})):(jQuery(".wpie-process-notification").bPopup().close(),jQuery(".wpie-datatable-import-wrapper").html(jQuery(".wpie-datatable-wrapper-sample").html()).show(),jQuery(".wpie-datatable-import-wrapper .wpie-product-filter-data").DataTable({autoWidth:!0,scrollY:400,scrollX:!0,processing:!0,serverSide:!0,sPaginationType:"full_numbers",sServerMethod:"POST",bDestroy:!0,bFilter:!1,bSort:!1,ajax:{url:wpie_plugin_settings.wpie_ajax_url,data:function(e){e.action="wpie_get_user_import_preview"},type:"POST",dataType:"json"}}))}function wpie_import_order_data(e,t){"completed"!=t&&"error_completed"!=t?("error"==t&&jQuery.ajax({url:wpie_plugin_settings.wpie_ajax_url,type:"POST",data:"action=wpie_import_order_percentage",dataType:"json",async:!1,success:function(e){if("success"==e.message){var t=parseInt(100*e.order_offset/parseInt(e.total_records));product_offset=e.order_offset,jQuery(".wpie-process-percentage").html(t)}}}),jQuery.ajax({url:wpie_plugin_settings.wpie_ajax_url,type:"POST",data:"action=wpie_import_order&status="+t+"&"+e,dataType:"json",success:function(s){if("success"==s.message){if("pending"==t&&"undefined"!=typeof s.data&&wpie_product_import_log.row.add(s.data).draw(!1),"completed"==s.status){jQuery(".wpie-process-notification").bPopup().close(),jQuery(".wpie_success_msg").html(s.message_text);var r=jQuery(".wpie_success_msg").bPopup();setTimeout(function(){r.bPopup().close()},1e3)}else if("error_completed"==s.status){jQuery(".wpie-process-notification").bPopup().close(),jQuery(".wpie_success_msg").html(s.message_text);var r=jQuery(".wpie_success_msg").bPopup();setTimeout(function(){r.bPopup().close()},3e3)}var i=parseInt(100*s.order_offset/parseInt(s.total_records));jQuery(".wpie-process-percentage").html(i),wpie_import_order_data(e,s.status)}},error:function(t,s,r){wpie_import_order_data(e,"error")}})):"completed"==t&&(jQuery(".wpie-datatable-import-wrapper").html(jQuery(".wpie-datatable-wrapper-sample").html()).show(),jQuery(".wpie-datatable-import-wrapper .wpie-product-filter-data").DataTable({autoWidth:!0,scrollY:400,scrollX:!0,processing:!0,serverSide:!0,sPaginationType:"full_numbers",sServerMethod:"POST",bDestroy:!0,bFilter:!1,bSort:!1,ajax:{url:wpie_plugin_settings.wpie_ajax_url,data:function(e){e.action="wpie_get_order_import_preview"},type:"POST",dataType:"json"}}))}jQuery(document).ready(function(){jQuery.isFunction(jQuery.fn.chosen)&&jQuery(".wpie-select-chosen").chosen(),jQuery.isFunction(jQuery.fn.wpie_datepicker)&&jQuery(".wpie-datepicker").wpie_datepicker({format:"mm-dd-yyyy",autoclose:!0,endDate:"+0d"}),jQuery.isFunction(jQuery.fn.DataTable)&&(wpie_scheduled_export_list=jQuery(".wpie-scheduled-list").DataTable({autoWidth:!0,processing:!1,serverSide:!1,sPaginationType:"full_numbers"}),wpie_scheduled_import_list=jQuery(".wpie-scheduled-import-list").DataTable({autoWidth:!0,processing:!1,serverSide:!1,sPaginationType:"full_numbers"}),wpie_product_import_log=jQuery(".wpie-product-import-log").DataTable({autoWidth:!0,processing:!1,serverSide:!1,sPaginationType:"full_numbers"}),wpie_product_export_log=jQuery(".wpie-product-export-log").DataTable({autoWidth:!0,processing:!1,serverSide:!1,sPaginationType:"full_numbers"}));var e=new plupload.Uploader({runtimes:"html5,silverlight,flash,html4",url:wpie_plugin_settings.wpie_ajax_url,drop_element:"wpie-upload-drag-drop",chunk_size:"100kb",file_data_name:"async-upload",multiple_queues:!0,max_file_size:"100Gb",browse_button:"plupload-browse-button",container:"wpie-upload-container",filters:{prevent_duplicates:!0},multipart_params:{action:"wpie_upload_csv_file"},flash_swf_url:"/plupload/js/Moxie.swf",silverlight_xap_url:"/plupload/js/Moxie.xap"});e.bind("Init",function(e){var t=jQuery("#wpie-upload-container");e.features.dragdrop?(t.addClass("wpie-drag-drop"),jQuery("#wpie-upload-container").bind("dragover.wp-uploader",function(){t.addClass("wpie-drag-over")}).bind("dragleave.wp-uploader, drop.wp-uploader",function(){t.removeClass("wpie-drag-over")})):(t.removeClass("drag-drop"),jQuery(".wpie-upload-drag-drop").unbind(".wp-uploader"))}),e.init(),e.bind("FilesAdded",function(e,t){plupload.each(t,function(s){plupload.each(t,function(e){jQuery(".wpie-uploaded-file-list").append('<div class="wpie-uploaded-file-name" id="'+e.id+'">'+e.name+" ("+plupload.formatSize(e.size)+") <b></b></div>")}),e.refresh(),e.start()}),e.refresh(),e.start(),jQuery(".wpie-product-import").addClass("wpie-disable-import")}),e.bind("UploadProgress",function(e,t){document.getElementById(t.id).getElementsByTagName("b")[0].innerHTML="<span>"+t.percent+"%</span>"}),e.bind("FileUploaded",function(e,t,s){var r=jQuery.parseJSON(s.response);jQuery(".wpie_csv_upload_file_path").val(r.file_url),jQuery(".wpie-product-import").removeClass("wpie-disable-import")})}),jQuery(document).on("click",".wpie-scheduled-export-check-data",function(){$closest_parent=jQuery(this).closest(".wpie-general-frm"),$closest_parent.find(".wpie-scheduled-export-outer-details").is(":visible")&&$closest_parent.find(".wpie-scheduled-export-email-details").is(":visible")?$closest_parent.find(".wpie-scheduled-export-email-details").slideToggle():$closest_parent.find(".wpie-scheduled-send-email").is(":checked")&&$closest_parent.find(".wpie-scheduled-export-email-details").slideToggle(),$closest_parent.find(".wpie-scheduled-save-export-data").slideToggle(),$closest_parent.find(".wpie-scheduled-export-outer-details").slideToggle()}),jQuery(document).on("click",".wpie-scheduled-send-email",function(){jQuery(this).closest(".wpie-scheduled-export-wrapper").find(".wpie-scheduled-export-email-details").slideToggle()}),jQuery(document).on("click",".wpie-product-export-preview",function(e){e.preventDefault();var t=jQuery(".wpie-product-export-frm").serialize();jQuery.ajax({url:wpie_plugin_settings.wpie_ajax_url,type:"POST",data:"action=wpie_create_product_preview&"+t,dataType:"json",success:function(e){jQuery(".wpie-datatable-wrapper").html(jQuery(".wpie-datatable-wrapper-sample").html()).show(),jQuery(".wpie-datatable-wrapper .wpie-product-filter-data").DataTable({autoWidth:!0,scrollY:400,scrollX:!0,processing:!0,serverSide:!0,sPaginationType:"full_numbers",sServerMethod:"POST",bDestroy:!0,bFilter:!1,bSort:!1,ajax:{url:wpie_plugin_settings.wpie_ajax_url,data:function(t){t.action="wpie_get_product_export_preview",t.product_query=e.product_query,t.total_products=e.total_products,t.product_offset=e.product_offset,t.product_limit=e.product_limit},type:"POST",dataType:"json"}})}})}),jQuery(document).on("click",".wpie-page-section-header",function(){var e="."+jQuery(this).attr("wpie-container");jQuery(e).is(":visible")||(jQuery(".wpie-main-frm-wrapper").slideUp("slow"),jQuery(".wpie-page-active-section").removeClass("wpie-page-active-section"),jQuery(this).addClass("wpie-page-active-section"),jQuery(".wpie-page-active-section-data").removeClass("wpie-page-active-section-data"),jQuery(e).addClass("wpie-page-active-section-data").slideDown("slow"))}),jQuery(document).on("click",".wpie-product-export",function(e){e.preventDefault(),jQuery(".wpie-process-percentage").html("0"),jQuery(".wpie-process-notification").bPopup({modalClose:!1,escClose:!1});var t=jQuery(".wpie-product-export-frm").serialize(),s=jQuery(".wpie-product-export-frm").find(".wpie_export_separator").val();jQuery.ajax({url:wpie_plugin_settings.wpie_ajax_url,type:"POST",data:"action=wpie_create_product_csv&"+t,dataType:"json",success:function(e){"success"==e.message&&(wpie_count_data_query(e.product_query),"undefined"!=typeof e.product_limit&&e.product_limit>0?filter_total=e.product_limit:filter_total=jQuery(".wpie-process-notification").attr("filter-total"),0==filter_total?(status="completed",jQuery(".wpie-process-percentage").html("100")):status="pending",wpie_complete_export_csv(e.file_name,status,e.product_query,0,0,0,0,e.product_offset,filter_total,s),wpie_product_export_log.row.add(e.data).draw(!1))}})}),jQuery(document).on("click",".wpie-product-scheduled-export-data",function(){if($closest_form=jQuery(this).closest("form"),$closest_form.find(".wpie-scheduled-send-email").is(":checked")&&$closest_form.find(".wpie-scheduled-export-check-data").is(":checked")){var e=$closest_form.find(".wpie-scheduled-export-email-recipients").val(),t=$closest_form.find(".wpie-scheduled-export-email-subject").val(),s=$closest_form.find(".wpie-scheduled-export-email-content").val();if(regex=/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/,""==e)return alert("Please Enter Email Recipient(s)."),$closest_form.find(".wpie-scheduled-export-email-recipients").focus(),!1;if(""==t)return alert("Please Enter Email Subject."),$closest_form.find(".wpie-scheduled-export-email-subject").focus(),!1;if(""==s)return alert("Please Enter Email Body."),$closest_form.find(".wpie-scheduled-export-email-content").focus(),!1;if(e.indexOf(",")>0){for(var r=e.split(","),i=0;i<r.length;i++)if(!regex.test(r[i]))return alert("Please Enter valid Email Address."),$closest_form.find(".wpie-scheduled-export-email-recipients").focus(),!1}else if(!regex.test(e))return alert("Please Enter valid Email Address."),$closest_form.find(".wpie-scheduled-export-email-recipients").focus(),!1}jQuery(".wpie_success_msg").html(jQuery(".wpie_success_msg").attr("wpie_wait_msg"));var o=jQuery(".wpie_success_msg").bPopup(),a=jQuery(".wpie-product-export-frm").serialize();jQuery.ajax({url:wpie_plugin_settings.wpie_ajax_url,type:"POST",data:"action=wpie_save_product_scheduled&"+a,dataType:"json",success:function(e){"success"==e.message&&(jQuery(".wpie_success_msg").html(e.message_content),wpie_scheduled_export_list.row.add(e.data).draw(!1),setTimeout(function(){o.bPopup().close()},1e3))}})}),jQuery(document).on("click",".wpie-advanced-option-header",function(){jQuery(this).parent().find(".wpie-advanced-option-data").slideToggle("slow")}),jQuery(document).on("click",".wpie-product-settings-btn",function(){jQuery(".wpie_success_msg").html(jQuery(".wpie_success_msg").attr("wpie_wait_msg"));var e=jQuery(".wpie_success_msg").bPopup(),t=jQuery(".wpie-product-fields-frm").serialize();jQuery.ajax({url:wpie_plugin_settings.wpie_ajax_url,type:"POST",data:"action=wpie_save_product_fields&"+t,dataType:"json",success:function(t){"success"==t.message&&(jQuery(".wpie_success_msg").html(t.message_content),jQuery(".wpie-datatable-wrapper-sample").html(t.preview_fields),setTimeout(function(){e.bPopup().close()},1e3))}})}),jQuery(document).on("click",".wpie-delete-product-cron",function(){if(!confirm("Are you sure you want to delete this Scheduled ?"))return!1;$this=jQuery(this),jQuery(".wpie_success_msg").html(jQuery(".wpie_success_msg").attr("wpie_wait_msg"));var e=jQuery(".wpie_success_msg").bPopup(),t=jQuery(this).attr("cron_id");jQuery.ajax({url:wpie_plugin_settings.wpie_ajax_url,type:"POST",data:"action=wpie_delete_product_scheduled_cron&cron_id="+t,dataType:"json",success:function(t){"success"==t.message&&(wpie_scheduled_export_list.rows(jQuery($this).closest("tr")).remove().draw(),jQuery(".wpie_success_msg").html(t.message_content),setTimeout(function(){e.bPopup().close()},1e3))}})}),jQuery(document).on("click",".wpie-product-import",function(){return jQuery(this).hasClass("wpie-disable-import")?!1:(jQuery(".wpie-process-percentage").html(0),file_url=jQuery(".wpie_import_file_url").val(),file_path=jQuery(".wpie_csv_upload_file_path").val(),""==file_url&&""==file_path?(alert("Please Enter Filename"),!1):(jQuery(".wpie-process-notification").bPopup({modalClose:!1,escClose:!1}),form_data=jQuery(".wpie-product-import-frm").serialize(),void wpie_import_product_data(form_data,"start")))}),jQuery(document).on("click",".wpie-log-delete-action",function(){if(!confirm("Are you sure you want to delete this Record ?"))return!1;jQuery(".wpie_success_msg").html(jQuery(".wpie_success_msg").attr("wpie_wait_msg"));var e=jQuery(".wpie_success_msg").bPopup();$this=jQuery(this);var t=jQuery(this).attr("log_id"),s=jQuery(this).attr("file_name");$this=jQuery(this),jQuery.ajax({url:wpie_plugin_settings.wpie_ajax_url,type:"POST",data:"action=wpie_remove_export_entry&log_id="+t+"&file_name="+s,dataType:"json",success:function(t){"success"==t.message&&(jQuery(".wpie_success_msg").html(t.message_content),setTimeout(function(){e.bPopup().close()},1e3),jQuery($this).hasClass("wpie-export-log-delete-action")?wpie_product_export_log.rows(jQuery($this).closest("tr")).remove().draw():wpie_product_import_log.rows(jQuery($this).closest("tr")).remove().draw())}})}),jQuery(document).on("click",".wpie-log-download-action",function(){jQuery(".wpie_download_exported_file").val(jQuery(this).attr("file_name")),jQuery(".wpie-download-exported-file-frm").submit()}),jQuery(document).on("click",".wpie-product-categories-export",function(e){e.preventDefault(),jQuery(".wpie-process-percentage").html("0"),jQuery(".wpie-process-notification").bPopup({modalClose:!1,escClose:!1});var t=jQuery(".wpie-product-categories-export-frm").serialize(),s=jQuery(".wpie-product-categories-export-frm").find(".wpie_export_separator").val();jQuery.ajax({url:wpie_plugin_settings.wpie_ajax_url,type:"POST",data:"action=wpie_create_product_categories_csv&"+t,dataType:"json",success:function(e){"success"==e.message&&(wpie_count_product_cat_data_query(e.product_cat_query),wpie_complete_product_cat_export_csv(e.file_name,"pending",e.product_cat_query,0,e.product_cat_offset,e.product_cat_limit,s),wpie_product_export_log.row.add(e.data).draw(!1))}})}),jQuery(document).on("click",".wpie-product-categories-export-preview",function(e){e.preventDefault();var t=jQuery(".wpie-product-categories-export-frm").serialize();jQuery.ajax({url:wpie_plugin_settings.wpie_ajax_url,type:"POST",data:"action=wpie_create_product_categories_preview&"+t,dataType:"json",success:function(e){jQuery(".wpie-datatable-wrapper").html(jQuery(".wpie-datatable-wrapper-sample").html()).show(),jQuery(".wpie-datatable-wrapper .wpie-product-filter-data").DataTable({autoWidth:!0,scrollY:400,scrollX:!0,processing:!0,serverSide:!0,sPaginationType:"full_numbers",sServerMethod:"POST",bDestroy:!0,bFilter:!1,bSort:!1,ajax:{url:wpie_plugin_settings.wpie_ajax_url,data:function(t){t.action="wpie_get_product_cat_export_preview",t.product_cat_query=e.product_cat_query,t.total_products_cat=e.total_products_cat,t.product_cat_offset=e.product_cat_offset,t.product_cat_limit=e.product_cat_limit},type:"POST",dataType:"json"}})}})}),jQuery(document).on("click",".wpie-product-cat-settings-btn",function(){jQuery(".wpie_success_msg").html(jQuery(".wpie_success_msg").attr("wpie_wait_msg"));var e=jQuery(".wpie_success_msg").bPopup(),t=jQuery(".wpie-product-cat-fields-frm").serialize();jQuery.ajax({url:wpie_plugin_settings.wpie_ajax_url,type:"POST",data:"action=wpie_save_product_cat_fields&"+t,dataType:"json",success:function(t){"success"==t.message&&(jQuery(".wpie_success_msg").html(t.message_content),jQuery(".wpie-datatable-wrapper-sample").html(t.preview_fields),setTimeout(function(){e.bPopup().close()},1e3))}})}),jQuery(document).on("click",".wpie-product-categories-scheduled-export-data",function(){if($closest_form=jQuery(this).closest("form"),$closest_form.find(".wpie-scheduled-send-email").is(":checked")&&$closest_form.find(".wpie-scheduled-export-check-data").is(":checked")){var e=$closest_form.find(".wpie-scheduled-export-email-recipients").val(),t=$closest_form.find(".wpie-scheduled-export-email-subject").val(),s=$closest_form.find(".wpie-scheduled-export-email-content").val();if(regex=/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/,""==e)return alert("Please Enter Email Recipient(s)."),$closest_form.find(".wpie-scheduled-export-email-recipients").focus(),!1;if(""==t)return alert("Please Enter Email Subject."),$closest_form.find(".wpie-scheduled-export-email-subject").focus(),!1;if(""==s)return alert("Please Enter Email Body."),$closest_form.find(".wpie-scheduled-export-email-content").focus(),!1;if(e.indexOf(",")>0){for(var r=e.split(","),i=0;i<r.length;i++)if(!regex.test(r[i]))return alert("Please Enter valid Email Address."),$closest_form.find(".wpie-scheduled-export-email-recipients").focus(),!1}else if(!regex.test(e))return alert("Please Enter valid Email Address."),$closest_form.find(".wpie-scheduled-export-email-recipients").focus(),!1}jQuery(".wpie_success_msg").html(jQuery(".wpie_success_msg").attr("wpie_wait_msg"));var o=jQuery(".wpie_success_msg").bPopup(),a=jQuery(".wpie-product-categories-export-frm").serialize();jQuery.ajax({url:wpie_plugin_settings.wpie_ajax_url,type:"POST",data:"action=wpie_save_product_cat_scheduled&"+a,dataType:"json",success:function(e){"success"==e.message&&(jQuery(".wpie_success_msg").html(e.message_content),setTimeout(function(){o.bPopup().close()},1e3))}})}),jQuery(document).on("click",".wpie-delete-product-cat-cron",function(){if(!confirm("Are you sure you want to delete this Scheduled ?"))return!1;$this=jQuery(this),jQuery(".wpie_success_msg").html(jQuery(".wpie_success_msg").attr("wpie_wait_msg"));var e=jQuery(".wpie_success_msg").bPopup(),t=jQuery(this).attr("cron_id");jQuery.ajax({url:wpie_plugin_settings.wpie_ajax_url,type:"POST",data:"action=wpie_delete_product_cat_scheduled_cron&cron_id="+t,dataType:"json",success:function(t){"success"==t.message&&(wpie_scheduled_export_list.rows(jQuery($this).closest("tr")).remove().draw(),jQuery(".wpie_success_msg").html(t.message_content),setTimeout(function(){e.bPopup().close()},1e3))}})}),jQuery(document).on("click",".wpie-product-cat-import",function(){return jQuery(this).hasClass("wpie-disable-import")?!1:(jQuery(".wpie-process-percentage").html(0),file_url=jQuery(".wpie_import_file_url").val(),file_path=jQuery(".wpie_csv_upload_file_path").val(),""==file_url&&""==file_path?(alert("Please Enter Filename"),!1):(jQuery(".wpie-process-notification").bPopup({modalClose:!1,escClose:!1}),form_data=jQuery(".wpie-product-cat-import-frm").serialize(),void wpie_import_product_cat_data(form_data,"start")))}),jQuery(document).on("click",".wpie-order-export",function(e){e.preventDefault(),jQuery(".wpie-process-percentage").html("0"),jQuery(".wpie-process-notification").bPopup({modalClose:!1,escClose:!1});var t=jQuery(".wpie-order-export-frm").serialize(),s=jQuery(".wpie-order-export-frm").find(".wpie_export_separator").val();jQuery.ajax({url:wpie_plugin_settings.wpie_ajax_url,type:"POST",data:"action=wpie_create_order_csv&"+t,dataType:"json",success:function(e){"success"==e.message&&(wpie_count_order_data_query(e.order_query),wpie_complete_order_export_csv(e.file_name,"pending",e.order_query,0,e.order_offset,e.order_limit,e.wpie_product_category,e.wpie_product_ids,s),wpie_product_export_log.row.add(e.data).draw(!1))}})}),jQuery(document).on("click",".wpie-coupon-export",function(e){e.preventDefault(),jQuery(".wpie-process-percentage").html("0"),jQuery(".wpie-process-notification").bPopup({modalClose:!1,escClose:!1});var t=jQuery(".wpie-coupon-export-frm").serialize(),s=jQuery(".wpie-coupon-export-frm").find(".wpie_export_separator").val();jQuery.ajax({url:wpie_plugin_settings.wpie_ajax_url,type:"POST",data:"action=wpie_create_coupon_csv&"+t,dataType:"json",success:function(e){"success"==e.message&&(wpie_count_coupon_data_query(e.coupon_query),wpie_complete_coupon_export_csv(e.file_name,"pending",e.coupon_query,0,e.coupon_offset,e.coupon_limit,s),wpie_product_export_log.row.add(e.data).draw(!1))}})}),jQuery(document).on("click",".wpie-coupon-export-preview",function(e){e.preventDefault();var t=jQuery(".wpie-coupon-export-frm").serialize();jQuery.ajax({url:wpie_plugin_settings.wpie_ajax_url,type:"POST",data:"action=wpie_create_coupon_preview&"+t,dataType:"json",success:function(e){jQuery(".wpie-datatable-wrapper").html(jQuery(".wpie-datatable-wrapper-sample").html()).show(),jQuery(".wpie-datatable-wrapper .wpie-product-filter-data").DataTable({autoWidth:!0,
scrollY:400,scrollX:!0,processing:!0,serverSide:!0,sPaginationType:"full_numbers",sServerMethod:"POST",bDestroy:!0,bFilter:!1,bSort:!1,ajax:{url:wpie_plugin_settings.wpie_ajax_url,data:function(t){t.action="wpie_get_coupon_export_preview",t.coupon_query=e.coupon_query,t.total_coupons=e.total_coupons,t.coupon_offset=e.coupon_offset,t.coupon_limit=e.coupon_limit},type:"POST",dataType:"json"}})}})}),jQuery(document).on("click",".wpie-coupon-settings-btn",function(){jQuery(".wpie_success_msg").html(jQuery(".wpie_success_msg").attr("wpie_wait_msg"));var e=jQuery(".wpie_success_msg").bPopup(),t=jQuery(".wpie-coupon-fields-frm").serialize();jQuery.ajax({url:wpie_plugin_settings.wpie_ajax_url,type:"POST",data:"action=wpie_save_coupon_fields&"+t,dataType:"json",success:function(t){"success"==t.message&&(jQuery(".wpie_success_msg").html(t.message_content),jQuery(".wpie-datatable-wrapper-sample").html(t.preview_fields),setTimeout(function(){e.bPopup().close()},1e3))}})}),jQuery(document).on("click",".wpie-coupon-scheduled-export-data",function(){if($closest_form=jQuery(this).closest("form"),$closest_form.find(".wpie-scheduled-send-email").is(":checked")&&$closest_form.find(".wpie-scheduled-export-check-data").is(":checked")){var e=$closest_form.find(".wpie-scheduled-export-email-recipients").val(),t=$closest_form.find(".wpie-scheduled-export-email-subject").val(),s=$closest_form.find(".wpie-scheduled-export-email-content").val();if(regex=/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/,""==e)return alert("Please Enter Email Recipient(s)."),$closest_form.find(".wpie-scheduled-export-email-recipients").focus(),!1;if(""==t)return alert("Please Enter Email Subject."),$closest_form.find(".wpie-scheduled-export-email-subject").focus(),!1;if(""==s)return alert("Please Enter Email Body."),$closest_form.find(".wpie-scheduled-export-email-content").focus(),!1;if(e.indexOf(",")>0){for(var r=e.split(","),i=0;i<r.length;i++)if(!regex.test(r[i]))return alert("Please Enter valid Email Address."),$closest_form.find(".wpie-scheduled-export-email-recipients").focus(),!1}else if(!regex.test(e))return alert("Please Enter valid Email Address."),$closest_form.find(".wpie-scheduled-export-email-recipients").focus(),!1}jQuery(".wpie_success_msg").html(jQuery(".wpie_success_msg").attr("wpie_wait_msg"));var o=jQuery(".wpie_success_msg").bPopup(),a=jQuery(".wpie-coupon-export-frm").serialize();jQuery.ajax({url:wpie_plugin_settings.wpie_ajax_url,type:"POST",data:"action=wpie_save_coupon_scheduled&"+a,dataType:"json",success:function(e){"success"==e.message&&(jQuery(".wpie_success_msg").html(e.message_content),wpie_scheduled_export_list.row.add(e.data).draw(!1),setTimeout(function(){o.bPopup().close()},1e3))}})}),jQuery(document).on("click",".wpie-coupon-import",function(){return jQuery(this).hasClass("wpie-disable-import")?!1:(jQuery(".wpie-process-percentage").html(0),file_url=jQuery(".wpie_import_file_url").val(),file_path=jQuery(".wpie_csv_upload_file_path").val(),""==file_url&&""==file_path?(alert("Please Enter Filename"),!1):(jQuery(".wpie-process-notification").bPopup({modalClose:!1,escClose:!1}),form_data=jQuery(".wpie-coupon-import-frm").serialize(),void wpie_import_coupon_data(form_data,"start")))}),jQuery(document).on("click",".wpie-user-export",function(e){e.preventDefault(),jQuery(".wpie-process-percentage").html("0"),jQuery(".wpie-process-notification").bPopup({modalClose:!1,escClose:!1});var t=jQuery(".wpie-user-export-frm").serialize(),s=jQuery(".wpie-user-export-frm").find(".wpie_export_separator").val();jQuery.ajax({url:wpie_plugin_settings.wpie_ajax_url,type:"POST",data:"action=wpie_create_user_csv&"+t,dataType:"json",success:function(e){"success"==e.message&&(wpie_count_user_data_query(e.user_query),wpie_complete_user_export_csv(e.file_name,"pending",e.user_query,0,e.user_offset,e.user_limit,s),wpie_product_export_log.row.add(e.data).draw(!1))}})}),jQuery(document).on("click",".wpie-user-export-preview",function(e){e.preventDefault();var t=jQuery(".wpie-user-export-frm").serialize();jQuery.ajax({url:wpie_plugin_settings.wpie_ajax_url,type:"POST",data:"action=wpie_create_user_preview&"+t,dataType:"json",success:function(e){jQuery(".wpie-datatable-wrapper").html(jQuery(".wpie-datatable-wrapper-sample").html()).show(),jQuery(".wpie-datatable-wrapper .wpie-product-filter-data").DataTable({autoWidth:!0,scrollY:400,scrollX:!0,processing:!0,serverSide:!0,sPaginationType:"full_numbers",sServerMethod:"POST",bDestroy:!0,bFilter:!1,bSort:!1,ajax:{url:wpie_plugin_settings.wpie_ajax_url,data:function(t){t.action="wpie_get_user_export_preview",t.user_query=e.user_query,t.total_users=e.total_users,t.user_offset=e.user_offset,t.user_limit=e.user_limit},type:"POST",dataType:"json"}})}})}),jQuery(document).on("click",".wpie-user-scheduled-export-data",function(){if($closest_form=jQuery(this).closest("form"),$closest_form.find(".wpie-scheduled-send-email").is(":checked")&&$closest_form.find(".wpie-scheduled-export-check-data").is(":checked")){var e=$closest_form.find(".wpie-scheduled-export-email-recipients").val(),t=$closest_form.find(".wpie-scheduled-export-email-subject").val(),s=$closest_form.find(".wpie-scheduled-export-email-content").val();if(regex=/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/,""==e)return alert("Please Enter Email Recipient(s)."),$closest_form.find(".wpie-scheduled-export-email-recipients").focus(),!1;if(""==t)return alert("Please Enter Email Subject."),$closest_form.find(".wpie-scheduled-export-email-subject").focus(),!1;if(""==s)return alert("Please Enter Email Body."),$closest_form.find(".wpie-scheduled-export-email-content").focus(),!1;if(e.indexOf(",")>0){for(var r=e.split(","),i=0;i<r.length;i++)if(!regex.test(r[i]))return alert("Please Enter valid Email Address."),$closest_form.find(".wpie-scheduled-export-email-recipients").focus(),!1}else if(!regex.test(e))return alert("Please Enter valid Email Address."),$closest_form.find(".wpie-scheduled-export-email-recipients").focus(),!1}jQuery(".wpie_success_msg").html(jQuery(".wpie_success_msg").attr("wpie_wait_msg"));var o=jQuery(".wpie_success_msg").bPopup(),a=jQuery(".wpie-user-export-frm").serialize();jQuery.ajax({url:wpie_plugin_settings.wpie_ajax_url,type:"POST",data:"action=wpie_save_user_scheduled&"+a,dataType:"json",success:function(e){"success"==e.message&&(jQuery(".wpie_success_msg").html(e.message_content),wpie_scheduled_export_list.row.add(e.data).draw(!1),setTimeout(function(){o.bPopup().close()},1e3))}})}),jQuery(document).on("click",".wpie-user-import",function(){return jQuery(this).hasClass("wpie-disable-import")?!1:(jQuery(".wpie-process-percentage").html(0),file_url=jQuery(".wpie_import_file_url").val(),file_path=jQuery(".wpie_csv_upload_file_path").val(),""==file_url&&""==file_path?(alert("Please Enter Filename"),!1):(jQuery(".wpie-process-notification").bPopup({modalClose:!1,escClose:!1}),form_data=jQuery(".wpie-user-import-frm").serialize(),void wpie_import_user_data(form_data,"start")))}),jQuery(document).on("click",".wpie-order-settings-btn",function(){jQuery(".wpie_success_msg").html(jQuery(".wpie_success_msg").attr("wpie_wait_msg"));var e=jQuery(".wpie_success_msg").bPopup(),t=jQuery(".wpie-order-fields-frm").serialize();jQuery.ajax({url:wpie_plugin_settings.wpie_ajax_url,type:"POST",data:"action=wpie_save_order_fields&"+t,dataType:"json",success:function(t){"success"==t.message&&(jQuery(".wpie_success_msg").html(t.message_content),jQuery(".wpie-datatable-wrapper-sample").html(t.preview_fields),setTimeout(function(){e.bPopup().close()},1e3))}})}),jQuery(document).on("click",".wpie-order-export-preview",function(e){e.preventDefault();var t=jQuery(".wpie-order-export-frm").serialize();jQuery.ajax({url:wpie_plugin_settings.wpie_ajax_url,type:"POST",data:"action=wpie_create_order_preview&"+t,dataType:"json",success:function(e){jQuery(".wpie-datatable-wrapper").html(jQuery(".wpie-datatable-wrapper-sample").html()).show(),jQuery(".wpie-datatable-wrapper .wpie-product-filter-data").DataTable({autoWidth:!0,scrollY:400,scrollX:!0,processing:!0,serverSide:!0,sPaginationType:"full_numbers",sServerMethod:"POST",bDestroy:!0,bFilter:!1,bSort:!1,ajax:{url:wpie_plugin_settings.wpie_ajax_url,data:function(t){t.action="wpie_get_order_export_preview",t.order_query=e.order_query,t.total_order=e.total_order,t.order_offset=e.order_offset,t.order_limit=e.order_limit},type:"POST",dataType:"json"}})}})}),jQuery(document).on("click",".wpie-order-import",function(){return jQuery(this).hasClass("wpie-disable-import")?!1:(jQuery(".wpie-process-percentage").html(0),file_url=jQuery(".wpie_import_file_url").val(),file_path=jQuery(".wpie_csv_upload_file_path").val(),""==file_url&&""==file_path?(alert("Please Enter Filename"),!1):(jQuery(".wpie-process-notification").bPopup({modalClose:!1,escClose:!1}),form_data=jQuery(".wpie-order-import-frm").serialize(),void wpie_import_order_data(form_data,"start")))}),jQuery(document).on("click",".wpie-delete-coupon-export-cron",function(){if(!confirm("Are you sure you want to delete this Scheduled ?"))return!1;$this=jQuery(this),jQuery(".wpie_success_msg").html(jQuery(".wpie_success_msg").attr("wpie_wait_msg"));var e=jQuery(".wpie_success_msg").bPopup(),t=jQuery(this).attr("cron_id");jQuery.ajax({url:wpie_plugin_settings.wpie_ajax_url,type:"POST",data:"action=wpie_delete_coupon_export_scheduled_cron&cron_id="+t,dataType:"json",success:function(t){"success"==t.message&&(wpie_scheduled_export_list.rows(jQuery($this).closest("tr")).remove().draw(),jQuery(".wpie_success_msg").html(t.message_content),setTimeout(function(){e.bPopup().close()},1e3))}})}),jQuery(document).on("click",".wpie-delete-product-export-cron",function(){if(!confirm("Are you sure you want to delete this Scheduled ?"))return!1;$this=jQuery(this),jQuery(".wpie_success_msg").html(jQuery(".wpie_success_msg").attr("wpie_wait_msg"));var e=jQuery(".wpie_success_msg").bPopup(),t=jQuery(this).attr("cron_id");jQuery.ajax({url:wpie_plugin_settings.wpie_ajax_url,type:"POST",data:"action=wpie_delete_product_export_scheduled_cron&cron_id="+t,dataType:"json",success:function(t){"success"==t.message&&(wpie_scheduled_export_list.rows(jQuery($this).closest("tr")).remove().draw(),jQuery(".wpie_success_msg").html(t.message_content),setTimeout(function(){e.bPopup().close()},1e3))}})}),jQuery(document).on("click",".wpie-delete-coupon-import-cron",function(){if(!confirm("Are you sure you want to delete this Scheduled ?"))return!1;$this=jQuery(this),jQuery(".wpie_success_msg").html(jQuery(".wpie_success_msg").attr("wpie_wait_msg"));var e=jQuery(".wpie_success_msg").bPopup(),t=jQuery(this).attr("cron_id");jQuery.ajax({url:wpie_plugin_settings.wpie_ajax_url,type:"POST",data:"action=wpie_delete_coupon_import_scheduled_cron&cron_id="+t,dataType:"json",success:function(t){"success"==t.message&&(wpie_scheduled_import_list.rows(jQuery($this).closest("tr")).remove().draw(),jQuery(".wpie_success_msg").html(t.message_content),setTimeout(function(){e.bPopup().close()},1e3))}})}),jQuery(document).on("click",".wpie-coupon-scheduled-import-data",function(){if(file_url=jQuery(".wpie_import_file_url").val(),file_path=jQuery(".wpie_csv_upload_file_path").val(),""==file_url&&""==file_path)return alert("Please Enter Filename"),!1;if($closest_form=jQuery(this).closest("form"),$closest_form.find(".wpie-scheduled-send-email").is(":checked")&&$closest_form.find(".wpie-scheduled-export-check-data").is(":checked")){var e=$closest_form.find(".wpie-scheduled-export-email-recipients").val(),t=$closest_form.find(".wpie-scheduled-export-email-subject").val(),s=$closest_form.find(".wpie-scheduled-export-email-content").val();if(regex=/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/,""==e)return alert("Please Enter Email Recipient(s)."),$closest_form.find(".wpie-scheduled-export-email-recipients").focus(),!1;if(""==t)return alert("Please Enter Email Subject."),$closest_form.find(".wpie-scheduled-export-email-subject").focus(),!1;if(""==s)return alert("Please Enter Email Body."),$closest_form.find(".wpie-scheduled-export-email-content").focus(),!1;if(e.indexOf(",")>0){for(var r=e.split(","),i=0;i<r.length;i++)if(!regex.test(r[i]))return alert("Please Enter valid Email Address."),$closest_form.find(".wpie-scheduled-export-email-recipients").focus(),!1}else if(!regex.test(e))return alert("Please Enter valid Email Address."),$closest_form.find(".wpie-scheduled-export-email-recipients").focus(),!1}jQuery(".wpie_success_msg").html(jQuery(".wpie_success_msg").attr("wpie_wait_msg"));var o=jQuery(".wpie_success_msg").bPopup(),a=jQuery(".wpie-coupon-import-frm").serialize();jQuery.ajax({url:wpie_plugin_settings.wpie_ajax_url,type:"POST",data:"action=wpie_save_coupon_import_scheduled&"+a,dataType:"json",success:function(e){"success"==e.message&&(jQuery(".wpie_success_msg").html(e.message_content),wpie_scheduled_import_list.row.add(e.data).draw(!1),setTimeout(function(){o.bPopup().close()},1e3))}})}),jQuery(document).on("click",".wpie-user-settings-btn",function(){jQuery(".wpie_success_msg").html(jQuery(".wpie_success_msg").attr("wpie_wait_msg"));var e=jQuery(".wpie_success_msg").bPopup(),t=jQuery(".wpie-user-fields-frm").serialize();jQuery.ajax({url:wpie_plugin_settings.wpie_ajax_url,type:"POST",data:"action=wpie_save_user_fields&"+t,dataType:"json",success:function(t){"success"==t.message&&(jQuery(".wpie_success_msg").html(t.message_content),jQuery(".wpie-datatable-wrapper-sample").html(t.preview_fields),setTimeout(function(){e.bPopup().close()},1e3))}})}),jQuery(document).on("click",".wpie-delete-user-export-cron",function(){if(!confirm("Are you sure you want to delete this Scheduled ?"))return!1;$this=jQuery(this),jQuery(".wpie_success_msg").html(jQuery(".wpie_success_msg").attr("wpie_wait_msg"));var e=jQuery(".wpie_success_msg").bPopup(),t=jQuery(this).attr("cron_id");jQuery.ajax({url:wpie_plugin_settings.wpie_ajax_url,type:"POST",data:"action=wpie_delete_user_export_scheduled_cron&cron_id="+t,dataType:"json",success:function(t){"success"==t.message&&(wpie_scheduled_export_list.rows(jQuery($this).closest("tr")).remove().draw(),jQuery(".wpie_success_msg").html(t.message_content),setTimeout(function(){e.bPopup().close()},1e3))}})}),jQuery(document).on("click",".wpie-user-scheduled-import-data",function(){if(file_url=jQuery(".wpie_import_file_url").val(),file_path=jQuery(".wpie_csv_upload_file_path").val(),""==file_url&&""==file_path)return alert("Please Enter Filename"),!1;if($closest_form=jQuery(this).closest("form"),$closest_form.find(".wpie-scheduled-send-email").is(":checked")&&$closest_form.find(".wpie-scheduled-export-check-data").is(":checked")){var e=$closest_form.find(".wpie-scheduled-export-email-recipients").val(),t=$closest_form.find(".wpie-scheduled-export-email-subject").val(),s=$closest_form.find(".wpie-scheduled-export-email-content").val();if(regex=/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/,""==e)return alert("Please Enter Email Recipient(s)."),$closest_form.find(".wpie-scheduled-export-email-recipients").focus(),!1;if(""==t)return alert("Please Enter Email Subject."),$closest_form.find(".wpie-scheduled-export-email-subject").focus(),!1;if(""==s)return alert("Please Enter Email Body."),$closest_form.find(".wpie-scheduled-export-email-content").focus(),!1;if(e.indexOf(",")>0){for(var r=e.split(","),i=0;i<r.length;i++)if(!regex.test(r[i]))return alert("Please Enter valid Email Address."),$closest_form.find(".wpie-scheduled-export-email-recipients").focus(),!1}else if(!regex.test(e))return alert("Please Enter valid Email Address."),$closest_form.find(".wpie-scheduled-export-email-recipients").focus(),!1}jQuery(".wpie_success_msg").html(jQuery(".wpie_success_msg").attr("wpie_wait_msg"));var o=jQuery(".wpie_success_msg").bPopup(),a=jQuery(".wpie-user-import-frm").serialize();jQuery.ajax({url:wpie_plugin_settings.wpie_ajax_url,type:"POST",data:"action=wpie_save_user_import_scheduled&"+a,dataType:"json",success:function(e){"success"==e.message&&(jQuery(".wpie_success_msg").html(e.message_content),wpie_scheduled_import_list.row.add(e.data).draw(!1),setTimeout(function(){o.bPopup().close()},1e3))}})}),jQuery(document).on("click",".wpie-delete-user-import-cron",function(){if(!confirm("Are you sure you want to delete this Scheduled ?"))return!1;$this=jQuery(this),jQuery(".wpie_success_msg").html(jQuery(".wpie_success_msg").attr("wpie_wait_msg"));var e=jQuery(".wpie_success_msg").bPopup(),t=jQuery(this).attr("cron_id");jQuery.ajax({url:wpie_plugin_settings.wpie_ajax_url,type:"POST",data:"action=wpie_delete_user_import_scheduled_cron&cron_id="+t,dataType:"json",success:function(t){"success"==t.message&&(wpie_scheduled_import_list.rows(jQuery($this).closest("tr")).remove().draw(),jQuery(".wpie_success_msg").html(t.message_content),setTimeout(function(){e.bPopup().close()},1e3))}})}),jQuery(document).on("click",".wpie-order-scheduled-export-data",function(){if($closest_form=jQuery(this).closest("form"),$closest_form.find(".wpie-scheduled-send-email").is(":checked")&&$closest_form.find(".wpie-scheduled-export-check-data").is(":checked")){var e=$closest_form.find(".wpie-scheduled-export-email-recipients").val(),t=$closest_form.find(".wpie-scheduled-export-email-subject").val(),s=$closest_form.find(".wpie-scheduled-export-email-content").val();if(regex=/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/,""==e)return alert("Please Enter Email Recipient(s)."),$closest_form.find(".wpie-scheduled-export-email-recipients").focus(),!1;if(""==t)return alert("Please Enter Email Subject."),$closest_form.find(".wpie-scheduled-export-email-subject").focus(),!1;if(""==s)return alert("Please Enter Email Body."),$closest_form.find(".wpie-scheduled-export-email-content").focus(),!1;if(e.indexOf(",")>0){for(var r=e.split(","),i=0;i<r.length;i++)if(!regex.test(r[i]))return alert("Please Enter valid Email Address."),$closest_form.find(".wpie-scheduled-export-email-recipients").focus(),!1}else if(!regex.test(e))return alert("Please Enter valid Email Address."),$closest_form.find(".wpie-scheduled-export-email-recipients").focus(),!1}jQuery(".wpie_success_msg").html(jQuery(".wpie_success_msg").attr("wpie_wait_msg"));var o=jQuery(".wpie_success_msg").bPopup(),a=jQuery(".wpie-order-export-frm").serialize();jQuery.ajax({url:wpie_plugin_settings.wpie_ajax_url,type:"POST",data:"action=wpie_save_order_scheduled&"+a,dataType:"json",success:function(e){"success"==e.message&&(jQuery(".wpie_success_msg").html(e.message_content),wpie_scheduled_export_list.row.add(e.data).draw(!1),setTimeout(function(){o.bPopup().close()},1e3))}})}),jQuery(document).on("click",".wpie-order-scheduled-import-data",function(){if(file_url=jQuery(".wpie_import_file_url").val(),file_path=jQuery(".wpie_csv_upload_file_path").val(),""==file_url&&""==file_path)return alert("Please Enter Filename"),!1;if($closest_form=jQuery(this).closest("form"),$closest_form.find(".wpie-scheduled-send-email").is(":checked")&&$closest_form.find(".wpie-scheduled-export-check-data").is(":checked")){var e=$closest_form.find(".wpie-scheduled-export-email-recipients").val(),t=$closest_form.find(".wpie-scheduled-export-email-subject").val(),s=$closest_form.find(".wpie-scheduled-export-email-content").val();if(regex=/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/,""==e)return alert("Please Enter Email Recipient(s)."),$closest_form.find(".wpie-scheduled-export-email-recipients").focus(),!1;if(""==t)return alert("Please Enter Email Subject."),$closest_form.find(".wpie-scheduled-export-email-subject").focus(),!1;if(""==s)return alert("Please Enter Email Body."),$closest_form.find(".wpie-scheduled-export-email-content").focus(),!1;if(e.indexOf(",")>0){for(var r=e.split(","),i=0;i<r.length;i++)if(!regex.test(r[i]))return alert("Please Enter valid Email Address."),$closest_form.find(".wpie-scheduled-export-email-recipients").focus(),!1}else if(!regex.test(e))return alert("Please Enter valid Email Address."),$closest_form.find(".wpie-scheduled-export-email-recipients").focus(),!1}jQuery(".wpie_success_msg").html(jQuery(".wpie_success_msg").attr("wpie_wait_msg"));var o=jQuery(".wpie_success_msg").bPopup(),a=jQuery(".wpie-order-import-frm").serialize();jQuery.ajax({url:wpie_plugin_settings.wpie_ajax_url,type:"POST",data:"action=wpie_save_order_import_scheduled&"+a,dataType:"json",success:function(e){"success"==e.message&&(jQuery(".wpie_success_msg").html(e.message_content),wpie_scheduled_import_list.row.add(e.data).draw(!1),setTimeout(function(){o.bPopup().close()},1e3))}})}),jQuery(document).on("click",".wpie-delete-order-export-cron",function(){if(!confirm("Are you sure you want to delete this Scheduled ?"))return!1;$this=jQuery(this),jQuery(".wpie_success_msg").html(jQuery(".wpie_success_msg").attr("wpie_wait_msg"));var e=jQuery(".wpie_success_msg").bPopup(),t=jQuery(this).attr("cron_id");jQuery.ajax({url:wpie_plugin_settings.wpie_ajax_url,type:"POST",data:"action=wpie_delete_order_export_scheduled_cron&cron_id="+t,dataType:"json",success:function(t){"success"==t.message&&(wpie_scheduled_export_list.rows(jQuery($this).closest("tr")).remove().draw(),jQuery(".wpie_success_msg").html(t.message_content),setTimeout(function(){e.bPopup().close()},1e3))}})}),jQuery(document).on("click",".wpie-delete-order-import-cron",function(){if(!confirm("Are you sure you want to delete this Scheduled ?"))return!1;$this=jQuery(this),jQuery(".wpie_success_msg").html(jQuery(".wpie_success_msg").attr("wpie_wait_msg"));var e=jQuery(".wpie_success_msg").bPopup(),t=jQuery(this).attr("cron_id");jQuery.ajax({url:wpie_plugin_settings.wpie_ajax_url,type:"POST",data:"action=wpie_delete_order_import_scheduled_cron&cron_id="+t,dataType:"json",success:function(t){"success"==t.message&&(wpie_scheduled_import_list.rows(jQuery($this).closest("tr")).remove().draw(),jQuery(".wpie_success_msg").html(t.message_content),setTimeout(function(){e.bPopup().close()},1e3))}})}),jQuery(document).on("click",".wpie-product-cat-scheduled-import-data",function(){if(file_url=jQuery(".wpie_import_file_url").val(),file_path=jQuery(".wpie_csv_upload_file_path").val(),""==file_url&&""==file_path)return alert("Please Enter Filename"),!1;if($closest_form=jQuery(this).closest("form"),$closest_form.find(".wpie-scheduled-send-email").is(":checked")&&$closest_form.find(".wpie-scheduled-export-check-data").is(":checked")){var e=$closest_form.find(".wpie-scheduled-export-email-recipients").val(),t=$closest_form.find(".wpie-scheduled-export-email-subject").val(),s=$closest_form.find(".wpie-scheduled-export-email-content").val();if(regex=/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/,""==e)return alert("Please Enter Email Recipient(s)."),$closest_form.find(".wpie-scheduled-export-email-recipients").focus(),!1;if(""==t)return alert("Please Enter Email Subject."),$closest_form.find(".wpie-scheduled-export-email-subject").focus(),!1;if(""==s)return alert("Please Enter Email Body."),$closest_form.find(".wpie-scheduled-export-email-content").focus(),!1;if(e.indexOf(",")>0){for(var r=e.split(","),i=0;i<r.length;i++)if(!regex.test(r[i]))return alert("Please Enter valid Email Address."),$closest_form.find(".wpie-scheduled-export-email-recipients").focus(),!1}else if(!regex.test(e))return alert("Please Enter valid Email Address."),$closest_form.find(".wpie-scheduled-export-email-recipients").focus(),!1}jQuery(".wpie_success_msg").html(jQuery(".wpie_success_msg").attr("wpie_wait_msg"));var o=jQuery(".wpie_success_msg").bPopup(),a=jQuery(".wpie-product-cat-import-frm").serialize();jQuery.ajax({url:wpie_plugin_settings.wpie_ajax_url,type:"POST",data:"action=wpie_save_product_cat_import_scheduled&"+a,dataType:"json",success:function(e){"success"==e.message&&(jQuery(".wpie_success_msg").html(e.message_content),wpie_scheduled_import_list.row.add(e.data).draw(!1),setTimeout(function(){o.bPopup().close()},1e3))}})}),jQuery(document).on("click",".wpie-delete-product-cat-import-cron",function(){if(!confirm("Are you sure you want to delete this Scheduled ?"))return!1;$this=jQuery(this),jQuery(".wpie_success_msg").html(jQuery(".wpie_success_msg").attr("wpie_wait_msg"));var e=jQuery(".wpie_success_msg").bPopup(),t=jQuery(this).attr("cron_id");jQuery.ajax({url:wpie_plugin_settings.wpie_ajax_url,type:"POST",data:"action=wpie_delete_product_cat_import_scheduled_cron&cron_id="+t,dataType:"json",success:function(t){"success"==t.message&&(wpie_scheduled_import_list.rows(jQuery($this).closest("tr")).remove().draw(),jQuery(".wpie_success_msg").html(t.message_content),setTimeout(function(){e.bPopup().close()},1e3))}})}),jQuery(document).on("click",".wpie-delete-product-cat-export-cron",function(){if(!confirm("Are you sure you want to delete this Scheduled ?"))return!1;$this=jQuery(this),jQuery(".wpie_success_msg").html(jQuery(".wpie_success_msg").attr("wpie_wait_msg"));var e=jQuery(".wpie_success_msg").bPopup(),t=jQuery(this).attr("cron_id");jQuery.ajax({url:wpie_plugin_settings.wpie_ajax_url,type:"POST",data:"action=wpie_delete_product_cat_export_scheduled_cron&cron_id="+t,dataType:"json",success:function(t){"success"==t.message&&(wpie_scheduled_export_list.rows(jQuery($this).closest("tr")).remove().draw(),jQuery(".wpie_success_msg").html(t.message_content),setTimeout(function(){e.bPopup().close()},1e3))}})}),jQuery(document).on("click",".wpie-product-scheduled-import-data",function(){if(file_url=jQuery(".wpie_import_file_url").val(),file_path=jQuery(".wpie_csv_upload_file_path").val(),""==file_url&&""==file_path)return alert("Please Enter Filename"),!1;if($closest_form=jQuery(this).closest("form"),$closest_form.find(".wpie-scheduled-send-email").is(":checked")&&$closest_form.find(".wpie-scheduled-export-check-data").is(":checked")){var e=$closest_form.find(".wpie-scheduled-export-email-recipients").val(),t=$closest_form.find(".wpie-scheduled-export-email-subject").val(),s=$closest_form.find(".wpie-scheduled-export-email-content").val();if(regex=/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/,""==e)return alert("Please Enter Email Recipient(s)."),$closest_form.find(".wpie-scheduled-export-email-recipients").focus(),!1;if(""==t)return alert("Please Enter Email Subject."),$closest_form.find(".wpie-scheduled-export-email-subject").focus(),!1;if(""==s)return alert("Please Enter Email Body."),$closest_form.find(".wpie-scheduled-export-email-content").focus(),!1;if(e.indexOf(",")>0){for(var r=e.split(","),i=0;i<r.length;i++)if(!regex.test(r[i]))return alert("Please Enter valid Email Address."),$closest_form.find(".wpie-scheduled-export-email-recipients").focus(),!1}else if(!regex.test(e))return alert("Please Enter valid Email Address."),$closest_form.find(".wpie-scheduled-export-email-recipients").focus(),!1}jQuery(".wpie_success_msg").html(jQuery(".wpie_success_msg").attr("wpie_wait_msg"));var o=jQuery(".wpie_success_msg").bPopup(),a=jQuery(".wpie-product-import-frm").serialize();jQuery.ajax({url:wpie_plugin_settings.wpie_ajax_url,type:"POST",data:"action=wpie_save_product_import_scheduled&"+a,dataType:"json",success:function(e){"success"==e.message&&(jQuery(".wpie_success_msg").html(e.message_content),wpie_scheduled_import_list.row.add(e.data).draw(!1),setTimeout(function(){o.bPopup().close()},1e3))}})}),jQuery(document).on("click",".wpie-delete-product-import-cron",function(){if(!confirm("Are you sure you want to delete this Scheduled ?"))return!1;$this=jQuery(this),jQuery(".wpie_success_msg").html(jQuery(".wpie_success_msg").attr("wpie_wait_msg"));var e=jQuery(".wpie_success_msg").bPopup(),t=jQuery(this).attr("cron_id");jQuery.ajax({url:wpie_plugin_settings.wpie_ajax_url,type:"POST",data:"action=wpie_delete_product_import_scheduled_cron&cron_id="+t,dataType:"json",success:function(t){"success"==t.message&&(wpie_scheduled_import_list.rows(jQuery($this).closest("tr")).remove().draw(),jQuery(".wpie_success_msg").html(t.message_content),setTimeout(function(){e.bPopup().close()},1e3))}})}),jQuery(document).on("submit",".wpie_license_activation_frm",function(e){e.preventDefault();var t=jQuery(".wpie_license_code").val();if(""==t)return alert("Please Enter Purchase Code"),!1;jQuery(".wpie_success_msg").html(jQuery(".wpie_success_msg").attr("wpie_wait_msg"));var s=jQuery(".wpie_success_msg").bPopup();return jQuery.ajax({url:wpie_plugin_settings.wpie_ajax_url,type:"POST",data:"action=wpie_activate_license&purchase_code="+t,dataType:"json",success:function(e){"success"==e.message&&(jQuery(".wpie_success_msg").html(e.message_content),("re_activated"==e.message_note||"new_activated"==e.message_note)&&(jQuery(".wpie_deactivate_license_wrapper").fadeIn(),jQuery(".wpie_license_wrapper").fadeOut())),setTimeout(function(){s.bPopup().close()},2e3)},error:function(e){jQuery(".wpie_success_msg").html("Error While Activate License"),setTimeout(function(){s.bPopup().close()},2e3)}}),!1}),jQuery(document).on("click",".wpie_license_deativate",function(){jQuery(".wpie_success_msg").html(jQuery(".wpie_success_msg").attr("wpie_wait_msg"));var e=jQuery(".wpie_success_msg").bPopup();return jQuery.ajax({url:wpie_plugin_settings.wpie_ajax_url,type:"POST",data:"action=wpie_license_deacivation",dataType:"json",success:function(t){"success"==t.message&&(jQuery(".wpie_success_msg").html(t.message_content),jQuery(".wpie_deactivate_license_wrapper").fadeOut(),jQuery(".wpie_license_wrapper").fadeIn()),setTimeout(function(){e.bPopup().close()},2e3)},error:function(t){jQuery(".wpie_success_msg").html("Error While Activate License"),setTimeout(function(){e.bPopup().close()},2e3)}}),!1});