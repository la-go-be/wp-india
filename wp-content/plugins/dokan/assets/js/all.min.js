jQuery(function(a){window.WeDevs_Admin={imageUpload:function(b){b.preventDefault();var c=a(this),d=c.siblings("input.image_url");tb_show("","media-upload.php?post_id=0&amp;type=image&amp;TB_iframe=true"),window.send_to_editor=function(b){var e=a(b).attr("src");a(b).find("img").length>0&&(e=a(b).find("img").attr("src")),d.val(e);var f='<img src="'+e+'" alt="image" />';f+='<a href="#" class="remove-image"><span>Remove</span></a>',c.siblings(".image_placeholder").empty().append(f),tb_remove()}},removeImage:function(b){b.preventDefault();var c=a(this);c.parent(".image_placeholder").siblings("input.image_url").val(""),c.parent(".image_placeholder").empty()}}}),jQuery(function(a){a(".tips").tooltip(),a("select.grant_access_id").chosen(),a("ul.order-status").on("click","a.dokan-edit-status",function(b){return a(this).addClass("dokan-hide").closest("li").next("li").removeClass("dokan-hide"),!1}),a("ul.order-status").on("click","a.dokan-cancel-status",function(b){return a(this).closest("li").addClass("dokan-hide").prev("li").find("a.dokan-edit-status").removeClass("dokan-hide"),!1}),a("form#dokan-order-status-form").on("submit",function(b){b.preventDefault();var c=a(this),d=c.closest("li");d.block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}}),a.post(dokan.ajaxurl,c.serialize(),function(a){d.unblock();var b=d.prev();d.addClass("dokan-hide"),b.find("label").replaceWith(a),b.find("a.dokan-edit-status").removeClass("dokan-hide")})}),a("form#add-order-note").on("submit",function(b){return b.preventDefault(),a("textarea#add-note-content").val()?(a("#dokan-order-notes").block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}}),a.post(dokan.ajaxurl,a(this).serialize(),function(b){a("ul.order_notes").prepend(b),a("#dokan-order-notes").unblock(),a("#add-note-content").val("")}),!1):void 0}),a("#dokan-order-notes").on("click","a.delete_note",function(){var b=a(this).closest("li.note");a("#dokan-order-notes").block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}});var c={action:"dokan_delete_order_note",note_id:a(b).attr("rel"),security:a("#delete-note-security").val()};return a.post(dokan.ajaxurl,c,function(c){a(b).remove(),a("#dokan-order-notes").unblock()}),!1}),a(".order_download_permissions").on("click","button.grant_access",function(){var b=a(this),c=a("select.grant_access_id").val();if(c){a(".order_download_permissions").block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}});var d={action:"dokan_grant_access_to_download",product_ids:c,loop:a(".order_download_permissions .panel").size(),order_id:b.data("order-id"),security:b.data("nonce")};return a.post(dokan.ajaxurl,d,function(b){b?a("#accordion").append(b):alert("Could not grant access - the user may already have permission for this file or billing email is not set. Ensure the billing email is set, and the order has been saved."),a(".datepicker").datepicker(),a(".order_download_permissions").unblock()}),!1}}),a(".order_download_permissions").on("click","button.revoke_access",function(b){b.preventDefault();var c=confirm("Are you sure you want to revoke access to this download?");if(c){var d=a(this),e=d.closest(".dokan-panel"),f=d.attr("rel").split(",")[0],g=d.attr("rel").split(",")[1];if(f>0){a(e).block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}});var h={action:"dokan_revoke_access_to_download",product_id:f,download_id:g,order_id:d.data("order-id"),security:d.data("nonce")};a.post(dokan.ajaxurl,h,function(b){a(e).fadeOut("300",function(){a(e).remove()})})}else a(e).fadeOut("300",function(){a(e).remove()})}return!1})}),function(a){var b={init:function(){a("#woocommerce-order-items").on("click","button.refund-items",this.refund_items).on("click",".cancel-action",this.cancel).on("click","button.do-api-refund, button.do-manual-refund",this.refunds.do_refund).on("change",".refund input.refund_line_total, .refund input.refund_line_tax",this.refunds.input_changed).on("change keyup",".wc-order-refund-items #refund_amount",this.refunds.amount_changed).on("change","input.refund_order_item_qty",this.refunds.refund_quantity_changed).on("keyup",".woocommerce_order_items .split-input input:eq(0)",function(){var b=a(this).next();(""===b.val()||b.is(".match-total"))&&b.val(a(this).val()).addClass("match-total")}).on("keyup",".woocommerce_order_items .split-input input:eq(1)",function(){a(this).removeClass("match-total")})},block:function(){a("#woocommerce-order-items").block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},unblock:function(){a("#woocommerce-order-items").unblock()},reload_items:function(){var c={order_id:dokan_refund.post_id,action:"dokan_load_order_items",security:dokan_refund.order_item_nonce};b.block(),a.ajax({url:dokan_refund.ajax_url,data:c,type:"POST",success:function(b){a(".dokan-panel-default #woocommerce-order-items").empty(),a(".dokan-panel-default #woocommerce-order-items").append(b)}})},refund_items:function(){return a("div.wc-order-refund-items").slideDown(),a("div.wc-order-bulk-actions").slideUp(),a("div.wc-order-totals-items").slideUp(),a("#woocommerce-order-items div.refund").show(),a(".wc-order-edit-line-item .wc-order-edit-line-item-actions").hide(),!1},cancel:function(){return a(this).closest("div.wc-order-data-row").slideUp(),a("div.wc-order-bulk-actions").slideDown(),a("div.wc-order-totals-items").slideDown(),a("#woocommerce-order-items div.refund").hide(),a(".wc-order-edit-line-item .wc-order-edit-line-item-actions").show(),"true"===a(this).attr("data-reload")&&b.reload_items(),!1},refunds:{do_refund:function(){if(b.block(),window.confirm(dokan_refund.i18n_do_refund)){var c=a("input#refund_amount").val(),d=a("input#refund_reason").val(),e={},f={},g={};a(".refund input.refund_order_item_qty").each(function(b,c){a(c).closest("tr").data("order_item_id")&&c.value&&(e[a(c).closest("tr").data("order_item_id")]=c.value)}),a(".refund input.refund_line_total").each(function(b,c){a(c).closest("tr").data("order_item_id")&&(f[a(c).closest("tr").data("order_item_id")]=accounting.unformat(c.value,dokan_refund.mon_decimal_point))}),a(".refund input.refund_line_tax").each(function(b,c){if(a(c).closest("tr").data("order_item_id")){var d=a(c).data("tax_id");g[a(c).closest("tr").data("order_item_id")]||(g[a(c).closest("tr").data("order_item_id")]={}),g[a(c).closest("tr").data("order_item_id")][d]=accounting.unformat(c.value,dokan_refund.mon_decimal_point)}});var h={action:"dokan_refund_request",order_id:dokan_refund.post_id,refund_amount:c,refund_reason:d,line_item_qtys:JSON.stringify(e,null,""),line_item_totals:JSON.stringify(f,null,""),line_item_tax_totals:JSON.stringify(g,null,""),api_refund:a(this).is(".do-api-refund"),restock_refunded_items:a("#restock_refunded_items:checked").size()?"true":"false",security:dokan_refund.order_item_nonce};a.post(dokan_refund.ajax_url,h,function(a){!0===a.success?(window.alert(a.data),b.reload_items()):(window.alert(a.data),b.unblock())})}else b.unblock()},input_changed:function(){var b=0,c=a(".woocommerce_order_items").find("tr.item, tr.fee, tr.shipping");c.each(function(){var c=a(this),d=c.find(".refund input:not(.refund_order_item_qty)");d.each(function(c,d){b+=parseFloat(accounting.unformat(a(d).val()||0,dokan_refund.mon_decimal_point))})}),a("#refund_amount").val(accounting.formatNumber(b,dokan_refund.currency_format_num_decimals,"",dokan_refund.mon_decimal_point)).change()},amount_changed:function(){var b=accounting.unformat(a(this).val(),dokan_refund.mon_decimal_point);a("button .wc-order-refund-amount .amount").text(accounting.formatMoney(b,{symbol:dokan_refund.currency_format_symbol,decimal:dokan_refund.currency_format_decimal_sep,thousand:dokan_refund.currency_format_thousand_sep,precision:dokan_refund.currency_format_num_decimals,format:dokan_refund.currency_format}))},refund_quantity_changed:function(){var b=a(this).closest("tr.item"),c=b.find("input.quantity").val(),d=a(this).val(),e=a("input.line_total",b),f=a("input.refund_line_total",b),g=accounting.unformat(e.attr("data-total"),dokan_refund.mon_decimal_point)/c;f.val(parseFloat(accounting.formatNumber(g*d,dokan_refund.rounding_precision,"")).toString().replace(".",dokan_refund.mon_decimal_point)).change(),a("td.line_tax",b).each(function(){var b=a("input.line_tax",a(this)),e=a("input.refund_line_tax",a(this)),f=accounting.unformat(b.attr("data-total_tax"),dokan_refund.mon_decimal_point)/c;f>0?e.val(parseFloat(accounting.formatNumber(f*d,dokan_refund.rounding_precision,"")).toString().replace(".",dokan_refund.mon_decimal_point)).change():e.val(0).change()}),d>0?a("#restock_refunded_items").closest("tr").show():(a("#restock_refunded_items").closest("tr").hide(),a(".woocommerce_order_items input.refund_order_item_qty").each(function(){a(this).val()>0&&a("#restock_refunded_items").closest("tr").show()})),a(this).trigger("refund_quantity_changed")}}};b.init()}(jQuery),function(a){var b,c,d=a("#variants-holder"),e=a("#product_image_gallery"),f=a("#product_images_container ul.product_images"),g={init:function(){product_type="simple",a(".product-edit-container").on("click","input[type=checkbox]#_downloadable",this.downloadable),a(".product-edit-container").on("change","#_product_type",this.onChangeProductType),a(".product-edit-container").on("click","a.sale-schedule",this.showDiscountSchedule),a(".product-edit-new-container,.product-edit-container").on("click","._discounted_price",this.newProductDesign.showDiscount),a(".product-edit-new-container").on("change","input[type=checkbox].sale-schedule",this.newProductDesign.showDiscountSchedule),a(".product-edit-new-container").on("change","input[type=checkbox]#_manage_stock",this.newProductDesign.showManageStock),a(".product-edit-new-container").on("change","input[type=checkbox]#_required_shipping",this.newProductDesign.showShippingWrapper),a(".product-edit-new-container").on("change","input[type=checkbox]#_required_tax",this.newProductDesign.showTaxWrapper),a(".product-edit-new-container").on("change","input[type=checkbox]#_downloadable",this.newProductDesign.downloadable),a(".product-edit-new-container").on("change","input[type=checkbox]#_has_attribute",this.newProductDesign.showVariationSection),a("#product-attributes").on("click",".add-variant-category",this.variants.addCategory),a("#variants-holder").on("click",".box-header .row-remove",this.variants.removeCategory),a("#variants-holder").on("click",".item-action a.row-add",this.variants.addItem),a("#variants-holder").on("click",".item-action a.row-remove",this.variants.removeItem),a("body, #variable_product_options").on("click",".sale_schedule",this.variants.saleSchedule),a("body, #variable_product_options").on("click",".cancel_sale_schedule",this.variants.cancelSchedule),a("#variable_product_options").on("woocommerce_variations_added",this.variants.onVariantAdded),this.variants.dates(),this.variants.initSaleSchedule(),a(".save_attributes").on("click",this.variants.save),a("#dokan-product-images").on("click","a.add-product-images",this.gallery.addImages),a("#dokan-product-images").on("click","a.action-delete",this.gallery.deleteImage),a("#dokan-product-images").on("click","a.delete",this.gallery.deleteImage),this.gallery.sortable(),a(".product-edit-new-container, .product-edit-container").on("click","a.dokan-feat-image-btn",this.featuredImage.addImage),a(".product-edit-new-container, .product-edit-container").on("click","a.dokan-remove-feat-image",this.featuredImage.removeImage),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-edit",this.sidebarToggle.showStatus),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-save",this.sidebarToggle.saveStatus),a(".dokan-toggle-sidebar").on("click","a.dokan-toggle-cacnel",this.sidebarToggle.cancel),a(".dokan-variation-container").on("click","a.add_attribute_option",this.newProductDesign.addAttributeOption),a(".dokan-variation-container").on("click","button.remove_attribute",this.newProductDesign.removeAttributeOption),a(".dokan-variation-container").on("click","button.clear_attributes",this.newProductDesign.clearAttributeOptions),a(".product-edit-new-container").on("change","input[type=checkbox]#_create_variation",this.newProductDesign.createVariationSection),a(".product-edit-new-container").on("click","a.edit_variation",this.newProductDesign.editSingleVariation),a(".product-edit-new-container").on("click","a.remove_variation",this.newProductDesign.removeSingleVariation),a("body").on("click",".upload_image_button",this.newProductDesign.loadVariationImage),a("body, .product-edit-container").on("click","a.upload_file_button",this.fileDownloadable),a("body").on("click","a.add_single_attribute_option",this.newProductDesign.addSingleAttributeOption),a("body").on("click","button.remove_single_attribute",this.newProductDesign.removeSingleAttributeOption),a("body").on("click","tr.dokan-single-attribute-options button.clear_attributes",this.newProductDesign.clearSingleAttributeOptions),a("body").on("click","a.dokan_add_new_variation",this.newProductDesign.addSingleVariationOption),a("body").on("submit","form#dokan-single-attribute-form",this.newProductDesign.saveProductAttributes),a("body").on("submit","form#dokan-single-variation-form",this.newProductDesign.saveProductVariations),a("body").on("change","input.variable_is_downloadable",this.newProductDesign.showHideDownload),a("body").on("change","input.variable_manage_stock",this.newProductDesign.showHideMangeStock),a("body").on("change","input.variable_is_virtual",this.newProductDesign.showHideVirtual),a(".product-edit-new-container").on("click","a.dokan_add_new_attribute",this.newProductDesign.addExtraAttributeOption),a(".product-edit-new-container, #product-shipping").on("change","input[type=checkbox]#_overwrite_shipping",this.newProductDesign.shipping.showHideOverride),a(".product-edit-new-container").on("change","input[type=checkbox]#_disable_shipping",this.newProductDesign.shipping.disableOverride),a("#product-shipping").on("click","#_disable_shipping",this.shipping.disableOverride),a("body").on("click","a.insert-file-row",function(){return a(this).closest("table").find("tbody").append(a(this).data("row")),!1}),a("body").on("click","a.delete",function(){return a(this).closest("tr").remove(),!1}),this.loadTagChosen(),this.newProductDesign.shipping.showHideOverride(),this.newProductDesign.shipping.disableOverride(),this.shipping.disableOverride(),a("#_disable_shipping").trigger("change"),a("#_overwrite_shipping").trigger("change"),this.loadTagIt(),a("body").on("submit","form.dokan-product-edit-form",this.inputValidate)},inputValidate:function(b){return b.preventDefault(),""==a("#post_title").val().trim()?(a("#post_title").focus(),void a("div.dokan-product-title-alert").removeClass("dokan-hide")):(a("div.dokan-product-title-alert").hide(),-1==a("select.product_cat").val()?(a("select.product_cat").focus(),void a("div.dokan-product-cat-alert").removeClass("dokan-hide")):(a("div.dokan-product-cat-alert").hide(),a("input[type=submit]").attr("disabled","disabled"),void this.submit()))},loadTagChosen:function(){a("select.product_tags").chosen()},loadTagIt:function(){jQuery.fn.tagit&&a("input.dokan-attribute-option-values").each(function(b,c){a(this).tagit({allowSpaces:!0,availableTags:a(this).data("preset_attr").split(","),afterTagAdded:g.tagIt.afterTagAdded,afterTagRemoved:g.tagIt.afterTagRemoved,autocomplete:{delay:1,minLength:1}})})},downloadable:function(){a(this).prop("checked")?a(this).closest("aside").find(".dokan-side-body").removeClass("dokan-hide"):a(this).closest("aside").find(".dokan-side-body").addClass("dokan-hide")},showDiscountSchedule:function(b){b.preventDefault(),a(".sale-schedule-container").slideToggle("fast")},onChangeProductType:function(){var b=a("#_product_type").val();"simple"===b?(product_type="simple",a("aside.downloadable").removeClass("dokan-hide"),a(".show_if_variable").addClass("dokan-hide"),a(".show_if_simple").removeClass("dokan-hide")):(product_type="variable",a("aside.downloadable").addClass("dokan-hide"),a(".show_if_variable").removeClass("dokan-hide"),a(".show_if_simple").addClass("dokan-hide"))},tagIt:{afterTagAdded:function(a,b){g.reArrangeVariations()},afterTagRemoved:function(a,b){g.reArrangeVariations()}},makeVariation:function(){function a(e,f){for(var g=0,h=c[f].length;h>g;g++){var i=e.slice(0);i.push(c[f][g]),f==d?b.push(i):a(i,f+1)}}var b=[],c=arguments[0],d=c.length-1;return a([],0),b},reArrangeVariations:function(){if(a("input[type=checkbox]#_create_variation").is(":checked")){var b=[],c=[];if(a("tr.dokan-attribute-options").each(function(d){var e=a(this).find(".dokan-attribute-option-values").tagit("assignedTags"),f=a(this).find(".dokan-attribute-option-name").val();e.length?(c.push(f),b.push(e)):a(this).find(".dokan-attribute-option-name").val("")}),b.length){var d={variation_item:g.makeVariation(b),variation_title:c},e=wp.template("dokan-variations");a(".dokan-variation-content-wrapper").html(e(d))}else a(".dokan-variation-content-wrapper").html("")}},newProductDesign:{showDiscount:function(){var b=a(this),c=b.is(":checked"),d=a(".special-price-container");c?d.removeClass("dokan-hide"):d.addClass("dokan-hide")},showDiscountSchedule:function(b){a(this).is(":checked")?a(".sale-schedule-container").slideDown("fast"):a(".sale-schedule-container").slideUp("fast")},showManageStock:function(b){a(this).is(":checked")?a(".show_if_stock").slideDown("fast"):a(".show_if_stock").slideUp("fast")},showShippingWrapper:function(b){a(this).is(":checked")?a(".show_if_needs_shipping").slideDown("fast"):a(".show_if_needs_shipping").slideUp("fast")},showTaxWrapper:function(){a(this).is(":checked")?a(".show_if_needs_tax").slideDown("fast"):a(".show_if_needs_tax").slideUp("fast")},downloadable:function(){a(this).prop("checked")?(a(".dokan-product-shipping-tax").hasClass("woocommerce-no-tax")&&a(".dokan-product-shipping-tax").addClass("dokan-hide"),a(".hide_if_downloadable").hide(),a(this).closest("div").find(".dokan-side-body").removeClass("dokan-hide")):(a(".dokan-product-shipping-tax").hasClass("woocommerce-no-tax")&&a(".dokan-product-shipping-tax").removeClass("dokan-hide"),a(".hide_if_downloadable").show(),a(this).closest("div").find(".dokan-side-body").addClass("dokan-hide"))},showVariationSection:function(){a(this).is(":checked")?a(this).closest(".dokan-variation-container").find(".dokan-side-body").removeClass("dokan-hide"):a(this).closest(".dokan-variation-container").find(".dokan-side-body").addClass("dokan-hide")},addAttributeOption:function(b){b.preventDefault();var c=a(this),d=c.closest(".dokan-attribute-content-wrapper").find("select#predefined_attribute");if(""==d.val()){if(attribute_option=c.closest(".dokan-attribute-content-wrapper").find("tr.dokan-attribute-options").first().clone(),attribute_option.find("input").val(""),1==attribute_option.find("input.dokan-attribute-option-name-label").length){var e=attribute_option.find("input.dokan-attribute-option-name"),f=attribute_option.find("input.dokan-attribute-option-name-label");e.remove(),f.removeAttr("disabled data-attribute_name").attr("name","attribute_names[]").addClass("dokan-attribute-option-name").removeClass("dokan-attribute-option-name-label"),attribute_option.find('input[name="attribute_is_taxonomy[]"]').val("0")}attribute_option.insertBefore(a("table.dokan-attribute-options-table").find("tr.dokan-attribute-is-variations")),attribute_option.find("ul.tagit").remove();var h=attribute_option.find(".dokan-attribute-option-values");h.removeAttr("data-preset_attr").attr("value",""),h.tagit({allowSpaces:!0,afterTagAdded:g.tagIt.afterTagAdded,afterTagRemoved:g.tagIt.afterTagRemoved})}else{var i={action:"dokan_get_pre_attribute",name:d.val()},j=!0;if(c.closest(".dokan-attribute-content-wrapper").find(".dokan-attribute-option-name-label").each(function(b,c){a(c).data("attribute_name")==d.val()&&(alert(dokan.duplicates_attribute_messg),j=!1,d.val(""))}),!j)return;c.closest(".dokan-attribute-content-wrapper").find("span.dokan-loading").removeClass("dokan-hide"),a.post(dokan.ajaxurl,i,function(b){if(b.success){var e=b.data.trim();d.val(""),a(e).insertBefore(a("table.dokan-attribute-options-table").find("tr.dokan-attribute-is-variations")),a("input.dokan-attribute-option-values").each(function(b,c){a(this).tagit({allowSpaces:!0,availableTags:a(this).data("preset_attr").split(","),afterTagAdded:g.tagIt.afterTagAdded,afterTagRemoved:g.tagIt.afterTagRemoved,autocomplete:{delay:1,minLength:1}})}),c.closest(".dokan-attribute-content-wrapper").find("span.dokan-loading").addClass("dokan-hide")}})}},removeAttributeOption:function(b){b.preventDefault();var c=a(this),d=c.closest("tbody").find("tr.dokan-attribute-options").length;return 2>d?!1:(c.closest("tr").remove(),void g.reArrangeVariations())},clearAttributeOptions:function(b,c){b.preventDefault();var d=a(this),e=d.closest("tr.dokan-attribute-options").find("td input.dokan-attribute-option-values");e.tagit("removeAll"),e.focus(),console.log(e)},clearSingleAttributeOptions:function(b,c){b.preventDefault();var d=a(this),e=d.closest("tr.dokan-single-attribute-options").find("td input.dokan-single-attribute-option-values");e.tagit("removeAll"),a(e).focus(),console.log(e)},createVariationSection:function(){if(a(this).is(":checked"))a(".hide_if_variation").hide(),a("#_manage_stock").trigger("change"),g.reArrangeVariations(),a(this).hasClass("dokan_create_variation")&&a(".dokan-variation-remove-warning").slideUp();else if(a(".hide_if_variation").show(),a("#_manage_stock").trigger("change"),a(".dokan-variation-content-wrapper").html(""),a(this).hasClass("dokan_create_variation")){var b='<div class="dokan-alert dokan-alert-warning dokan-variation-remove-warning"><button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>'+dokan.variation_unset_warning+"</div>";a(this).closest("label").before(b).slideDown()}},editSingleVariation:function(b){b.preventDefault();var c=a(this),d=c.closest("tr").data("variation_data"),e=wp.template("dokan-single-variations"),f=e(d);a.magnificPopup.open({items:{src:f.trim(),type:"inline"},callbacks:{open:function(){g.variants.dates(),a(".sale_schedule").trigger("click"),a("input.variable_is_downloadable, input.variable_is_virtual, input.variable_manage_stock").change(),a("body").find("select.variation_select_fileld").each(function(b,c){var d=a(c).data("selected_data");d&&a(c).find("option").each(function(b,c){a(c).attr("value")==d&&a(c).attr("selected","selected")})}),a(".tips").tooltip()}}})},removeSingleVariation:function(b){if(b.preventDefault(),confirm(dokan.delete_confirm)){var c=a(this),d={action:"dokan_remove_single_variation_item",variation_id:c.data("variation_id")},e=window.location.href;a(".dokan-variation-container").addClass("dokan-blur-effect"),a(".dokan-variation-container").append('<div class="dokan-variation-loader"></div>'),a.post(dokan.ajaxurl,d,function(b){b.success&&a(".dokan-variation-container").load(e+" .dokan-variation-container",function(){a("#_create_variation").trigger("change"),a(".dokan-variation-container").removeClass("dokan-blur-effect"),a(".dokan-variation-container").remove(".dokan-variation-loader")})})}},showHideDownload:function(){a(this).closest(".woocommerce_variation").find(".show_if_variation_downloadable").hide(),a(this).is(":checked")&&a(this).closest(".woocommerce_variation").find(".show_if_variation_downloadable").show()},showHideMangeStock:function(){a(this).closest(".woocommerce_variation").find(".show_if_variation_manage_stock").hide(),a(this).is(":checked")&&a(this).closest(".woocommerce_variation").find(".show_if_variation_manage_stock").show()},showHideVirtual:function(){a(this).closest(".woocommerce_variation").find(".hide_if_variation_virtual").show(),a(this).is(":checked")&&a(this).closest(".woocommerce_variation").find(".hide_if_variation_virtual").hide()},loadVariationImage:function(b){b.preventDefault();var c,d=a(this),e=d.attr("rel"),f=d.closest(".upload_image");if(setting_variation_image=f,placeholder_iamge=f.find("span.variation_placeholder_image").data("placeholder_image"),setting_variation_image_id=e,b.preventDefault(),d.is(".dokan-img-remove"))setting_variation_image.find(".upload_image_id").val(""),setting_variation_image.find("img").attr("src",placeholder_iamge),setting_variation_image.find(".upload_image_button").removeClass("dokan-img-remove");else{if(c)return c.uploader.uploader.param("post_id",setting_variation_image_id),void c.open();wp.media.model.settings.post.id=setting_variation_image_id,wp.media.model.settings.type="dokan",c=wp.media.frames.variable_image=wp.media({title:"Choose an image",button:{text:"Set variation image"}}),c.on("select",function(){attachment=c.state().get("selection").first().toJSON(),setting_variation_image.find(".upload_image_id").val(attachment.id),setting_variation_image.find(".upload_image_button").addClass("dokan-img-remove"),setting_variation_image.find("img").attr("src",attachment.url),wp.media.model.settings.post.id=wp_media_post_id}),c.open()}},addExtraAttributeOption:function(b){b.preventDefault();var c=a(this),d={attribute_data:c.data("product_attributes"),attribute_taxonomies:c.data("predefined_attr")},e=wp.template("dokan-single-attribute"),f=e(d);a.magnificPopup.open({items:{src:f.trim(),type:"inline"},callbacks:{open:function(){a(".tips").tooltip();var b=a("body").find(".dokan-single-attribute-option-values");b.each(function(b,c){a(this).tagit({allowSpaces:!0,availableTags:a(this).data("preset_attr").split(","),afterTagAdded:g.tagIt.afterTagAdded,afterTagRemoved:g.tagIt.afterTagRemoved,autocomplete:{delay:1,minLength:1,appendTo:"div.white-popup"}})})}}})},addSingleAttributeOption:function(b){b.preventDefault();var c=a(this),d=c.closest("table.dokan-single-attribute-options-table").find("select#predefined_attribute");if(""==d.val()){if(attribute_option=c.closest("table.dokan-single-attribute-options-table").find("tr.dokan-single-attribute-options").first().clone(),attribute_option.find("input").val(""),1==attribute_option.find("input.dokan-single-attribute-option-name-label").length){var e=attribute_option.find("input.dokan-single-attribute-option-name"),f=attribute_option.find("input.dokan-single-attribute-option-name-label");e.remove(),f.removeAttr("disabled data-attribute_name").attr("name","attribute_names[]").addClass("dokan-single-attribute-option-name").removeClass("dokan-single-attribute-option-name-label"),attribute_option.find('input[name="attribute_is_taxonomy[]"]').val("0")}a("table.dokan-single-attribute-options-table").find("tbody").append(attribute_option),attribute_option.find("ul.tagit").remove();var h=attribute_option.find("input.dokan-single-attribute-option-values");h.removeAttr("data-preset_attr").attr("value",""),h.tagit({allowSpaces:!0,afterTagAdded:g.tagIt.afterTagAdded,afterTagRemoved:g.tagIt.afterTagRemoved})}else{var i={action:"dokan_get_pre_attribute",name:d.val(),from:"popup"},j=!0;if(c.closest("table.dokan-single-attribute-options-table").find(".dokan-single-attribute-option-name-label").each(function(b,c){a(c).data("attribute_name")==d.val()&&(alert(dokan.duplicates_attribute_messg),j=!1,d.val(""))}),!j)return;c.closest("table.dokan-single-attribute-options-table").find("span.dokan-loading").removeClass("dokan-hide"),a.post(dokan.ajaxurl,i,function(b){if(b.success){var e=b.data.trim();d.val(""),a("table.dokan-single-attribute-options-table").find("tbody").append(e),a("input.dokan-single-attribute-option-values").each(function(b,c){a(this).tagit({allowSpaces:!0,availableTags:a(this).data("preset_attr").split(","),afterTagAdded:g.tagIt.afterTagAdded,afterTagRemoved:g.tagIt.afterTagRemoved,autocomplete:{delay:1,minLength:1,appendTo:"div.white-popup"}})}),c.closest(".dokan-single-attribute-options-table").find("span.dokan-loading").addClass("dokan-hide")}})}},removeSingleAttributeOption:function(b){b.preventDefault(),b.preventDefault();var c=a(this),d=c.closest("tbody").find("tr").length;return 2>d?!1:void c.closest("tr").remove()},saveProductAttributes:function(b){b.preventDefault();var c=a(this),d={action:"dokan_save_attributes_options",formdata:a(this).serialize()},e=window.location.href;c.find(".dokan-save-single-attr-loader").removeClass("dokan-hide"),a.post(dokan.ajaxurl,d,function(b){b.success&&(a(".dokan-variation-container").addClass("dokan-blur-effect"),a(".dokan-variation-container").append('<div class="dokan-variation-loader"></div>'),a.magnificPopup.close(),a(".dokan-variation-container").load(e+" .dokan-variation-container",function(){a("#_create_variation").trigger("change"),a(".dokan-variation-container").removeClass("dokan-blur-effect"),a(".dokan-variation-container").remove(".dokan-variation-loader")}))})},addSingleVariationOption:function(b){b.preventDefault();var c=a(this),d={action:"dokan_add_new_variations_options",post_id:c.data("post_id"),menu_order:c.closest(".dokan-variation-container").find("table.dokan-variations-table tbody tr").size()},e=window.location.href;c.closest(".dokan-variation-action-wrapper").find(".dokan-loading").removeClass("dokan-hide"),a(".dokan-variation-container").addClass("dokan-blur-effect"),a(".dokan-variation-container").append('<div class="dokan-variation-loader"></div>'),a.post(dokan.ajaxurl,d,function(b){a(".dokan-variation-container").load(e+" .dokan-variation-container",function(){a("#_create_variation").trigger("change"),c.closest(".dokan-variation-action-wrapper").find(".dokan-loading").addClass("dokan-hide"),a(".dokan-variation-container").removeClass("dokan-blur-effect"),a(".dokan-variation-container").remove(".dokan-variation-loader")})})},saveProductVariations:function(b){b.preventDefault();var c=a(this),d={action:"dokan_save_variations_options",formdata:a(this).serialize()},e=window.location.href;c.find(".dokan-loading").removeClass("dokan-hide"),a.post(dokan.ajaxurl,d,function(b){b.success&&(a(".dokan-variation-container").addClass("dokan-blur-effect"),a(".dokan-variation-container").append('<div class="dokan-variation-loader"></div>'),a.magnificPopup.close(),a(".dokan-variation-container").load(e+" .dokan-variation-container",function(){a("#_create_variation").trigger("change"),a(".dokan-variation-container").removeClass("dokan-blur-effect"),a(".dokan-variation-container").remove(".dokan-variation-loader")}))})},shipping:{showHideOverride:function(){a("#_overwrite_shipping").is(":checked")?a(".show_if_override").show():a(".show_if_override").hide()},disableOverride:function(){a("#_disable_shipping").is(":checked")?(a(".show_if_needs_shipping").show(),a("#_overwrite_shipping").trigger("change")):a(".show_if_needs_shipping").hide()}}},variants:{addCategory:function(b){b.preventDefault();var c=a("#_product_type").val(),e=a(this).closest("p.toolbar").find("select.select-attribute").val(),f=a(".inputs-box").length;if(""==e){var g=_.template(a("#tmpl-sc-category").html(),{row:f});d.append(g).children(":last").hide().fadeIn()}else{var h={row:f,name:e,type:c,action:"dokan_pre_define_attribute"};a("#product-attributes .toolbar").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a.post(dokan.ajaxurl,h,function(b){b.success&&d.append(b.data).children(":last").hide().fadeIn(),a("#product-attributes .toolbar").unblock()})}"simple"===product_type&&d.find(".show_if_variable").hide()},removeCategory:function(b){b.preventDefault(),confirm("Sure?")&&a(this).parents(".inputs-box").fadeOut(function(){a(this).remove()})},addItem:function(b){b.preventDefault();var c=a(this),d=c.closest(".inputs-box"),e=c.closest("ul.option-couplet"),f=e.find("li").length,g=d.data("count"),h=_.template(a("#tmpl-sc-category-item").html());c.closest("li").after(h({row:g,col:f}))},removeItem:function(b){b.preventDefault();var c=a(this).parents("ul").find("li");c.length>1&&a(this).parents("li").fadeOut(function(){a(this).remove()})},save:function(){var b={post_id:a(this).data("id"),data:a(".woocommerce_attributes").find("input, select, textarea").serialize(),
action:"dokan_save_attributes"},c=window.location.toString();a("#variants-holder").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a.post(ajaxurl,b,function(b){a("#variable_product_options").block({message:null,overlayCSS:{background:"#fff",opacity:.6}}),a("#variable_product_options").load(c+" #variable_product_options_inner",function(){a("#variable_product_options").unblock()}),a("input.variable_is_downloadable, input.variable_is_virtual, input.variable_manage_stock").trigger("change"),a("#variants-holder").unblock()})},initSaleSchedule:function(){a(".sale_price_dates_fields").each(function(){var b=a(this),c=!1,d=b.closest("div, table");b.find("input").each(function(){""!=a(this).val()&&(c=!0)}),c?(d.find(".sale_schedule").hide(),d.find(".sale_price_dates_fields").show()):(d.find(".sale_schedule").show(),d.find(".sale_price_dates_fields").hide())})},saleSchedule:function(){var b=a(this).closest("div, table");return a(this).hide(),b.find(".cancel_sale_schedule").show(),b.find(".sale_price_dates_fields").show(),!1},cancelSchedule:function(){var b=a(this).closest("div, table");return a(this).hide(),b.find(".sale_schedule").show(),b.find(".sale_price_dates_fields").hide(),b.find(".sale_price_dates_fields").find("input").val(""),!1},dates:function(){var b=a(".sale_price_dates_fields input").datepicker({defaultDate:"",dateFormat:"yy-mm-dd",numberOfMonths:1,onSelect:function(c){var d=a(this).is("#_sale_price_dates_from, .sale_price_dates_from")?"minDate":"maxDate",e=a(this).data("datepicker"),f=a.datepicker.parseDate(e.settings.dateFormat||a.datepicker._defaults.dateFormat,c,e.settings);b.not(this).datepicker("option",d,f)}})},onVariantAdded:function(){g.variants.dates()}},gallery:{addImages:function(a){a.preventDefault();var c=e.val();return b?void b.open():(b=wp.media.frames.downloadable_file=wp.media({title:"Add Images to Product Gallery",button:{text:"Add to gallery"},multiple:!0}),b.on("select",function(){var a=b.state().get("selection");a.map(function(a){a=a.toJSON(),a.id&&(c=c?c+","+a.id:a.id,f.append('                                <li class="image" data-attachment_id="'+a.id+'">                                    <img src="'+a.url+'" />                                    <a href="#" class="action-delete">&times;</a>                                </li>'))}),e.val(c)}),void b.open())},deleteImage:function(b){b.preventDefault(),a(this).closest("li.image").remove();var c="";return a("#product_images_container ul li.image").css("cursor","default").each(function(){var b=a(this).attr("data-attachment_id");c=c+b+","}),e.val(c),!1},sortable:function(){f.sortable({items:"li.image",cursor:"move",scrollSensitivity:40,forcePlaceholderSize:!0,forceHelperSize:!1,helper:"clone",opacity:.65,placeholder:"dokan-sortable-placeholder",start:function(a,b){b.item.css("background-color","#f6f6f6")},stop:function(a,b){b.item.removeAttr("style")},update:function(b,c){var d="";a("#product_images_container ul li.image").css("cursor","default").each(function(){var a=jQuery(this).attr("data-attachment_id");d=d+a+","}),e.val(d)}})}},featuredImage:{addImage:function(b){b.preventDefault();var d=a(this);return c?void c.open():(c=wp.media({title:"Upload featured image",button:{text:"Set featured image"}}),c.on("select",function(){var a=c.state().get("selection");a.map(function(a){a=a.toJSON(),d.siblings("input.dokan-feat-image-id").val(a.id);var b=d.closest(".instruction-inside"),c=b.siblings(".image-wrap");c.find("img").attr("src",a.url),b.addClass("dokan-hide"),c.removeClass("dokan-hide")})}),void c.open())},removeImage:function(b){b.preventDefault();var c=a(this),d=c.closest(".image-wrap"),e=d.siblings(".instruction-inside");e.find("input.dokan-feat-image-id").val("0"),d.addClass("dokan-hide"),e.removeClass("dokan-hide")}},fileDownloadable:function(b){b.preventDefault();var c,d=a(this);return c?void c.open():(c=wp.media({title:"Choose a file",button:{text:"Insert file URL"},multiple:!0}),c.on("select",function(){var a=c.state().get("selection");a.map(function(a){a=a.toJSON(),d.closest("tr").find("input.wc_file_url").val(a.url)})}),c.on("ready",function(){c.uploader.options.uploader.params={type:"downloadable_product"}}),void c.open())},sidebarToggle:{showStatus:function(b){var c=a(this).siblings(".dokan-toggle-select-container");return c.is(":hidden")&&(c.slideDown("fast"),a(this).hide()),!1},saveStatus:function(b){var c=a(this).closest(".dokan-toggle-select-container");c.slideUp("fast"),c.siblings("a.dokan-toggle-edit").show();var d=a("option:selected",c.find("select.dokan-toggle-select")).text();return c.siblings(".dokan-toggle-selected-display").html(d),!1},cancel:function(b){var c=a(this).closest(".dokan-toggle-select-container");return c.slideUp("fast"),c.siblings("a.dokan-toggle-edit").show(),!1}},shipping:{disableOverride:function(){a("#_disable_shipping").is(":checked")?a(".hide_if_disable").hide():(a(".hide_if_disable").show(),g.newProductDesign.shipping.showHideOverride())}}};a(function(){g.init(),a("#_product_type").trigger("change"),a(".sale-schedule").trigger("change"),a("#_manage_stock").trigger("change"),a("#_required_shipping").trigger("change"),a("#_disable_shipping").trigger("change"),a("#_required_tax").trigger("change"),a("#_has_attribute").trigger("change"),a("#_create_variation").trigger("change"),a("input[type=checkbox].dokan_create_variation").trigger("change"),a("#_downloadable").trigger("change"),a("input.variable_is_downloadable, input.variable_is_virtual, input.variable_manage_stock").change()})}(jQuery),function(a){var b={init:function(){a("#dokan-comments-table").on("click",".dokan-cmt-action",this.setCommentStatus),a("#dokan-comments-table").on("click","button.dokan-cmt-close-form",this.closeForm),a("#dokan-comments-table").on("click","button.dokan-cmt-submit-form",this.submitForm),a("#dokan-comments-table").on("click",".dokan-cmt-edit",this.populateForm),a(".dokan-check-all").on("click",this.toggleCheckbox)},toggleCheckbox:function(){a(".dokan-check-col").prop("checked",a(this).prop("checked"))},setCommentStatus:function(b){b.preventDefault();var c=a(this),d=c.data("comment_id"),e=c.data("cmt_status"),f=c.data("page_status"),g=c.data("post_type"),h=c.data("curr_page"),i=c.closest("tr"),j={action:"dokan_comment_status",comment_id:d,comment_status:e,page_status:f,post_type:g,curr_page:h,nonce:dokan.nonce};a.post(dokan.ajaxurl,j,function(b){1===f&&(1===e||0===e)?i.fadeOut(function(){i.replaceWith(b.data.content).fadeIn()}):i.fadeOut(function(){a(this).remove()}),null==b.data.pending&&(b.data.pending=0),null==b.data.spam&&(b.data.spam=0),null==b.data.trash&&(b.data.trash=0),a(".comments-menu-pending").text(b.data.pending),a(".comments-menu-spam").text(b.data.spam),a(".comments-menu-trash").text(b.data.trash)})},populateForm:function(b){b.preventDefault();var c=a(this).closest("tr");if(c.next().hasClass("dokan-comment-edit-row"))return void c.next().remove();var d=a("#dokan-edit-comment-row").html(),e={author:c.find(".dokan-cmt-hid-author").text(),email:c.find(".dokan-cmt-hid-email").text(),url:c.find(".dokan-cmt-hid-url").text(),body:c.find(".dokan-cmt-hid-body").text(),id:c.find(".dokan-cmt-hid-id").text(),status:c.find(".dokan-cmt-hid-status").text()};c.after(_.template(d,e))},closeForm:function(b){b.preventDefault(),a(this).closest("tr.dokan-comment-edit-row").remove()},submitForm:function(b){b.preventDefault();var c=a(this),d=c.closest("tr.dokan-comment-edit-row"),e={action:"dokan_update_comment",comment_id:d.find("input.dokan-cmt-id").val(),content:d.find("textarea.dokan-cmt-body").val(),author:d.find("input.dokan-cmt-author").val(),email:d.find("input.dokan-cmt-author-email").val(),url:d.find("input.dokan-cmt-author-url").val(),status:d.find("input.dokan-cmt-status").val(),nonce:dokan.nonce,post_type:d.find("input.dokan-cmt-post-type").val()};a.post(dokan.ajaxurl,e,function(a){a.success===!0?(d.prev().replaceWith(a.data),d.remove()):alert(a.data)})}};a(function(){b.init()})}(jQuery),jQuery(function(a){function b(a,b,c){jQuery('<div class="chart-tooltip">'+c+"</div>").css({top:b-16,left:a+20}).appendTo("body").fadeIn(200)}a(".datepicker").datepicker({dateFormat:"yy-mm-dd"}),a(".tips").tooltip();var c=a("ul.dokan-dashboard-menu"),d=a(".dokan-dashboard-content");a(window).width()>767&&d.height()>c.height()&&c.css({height:d.height()});var e=null,f=null;jQuery(".chart-placeholder").bind("plothover",function(a,c,d){if(d){if((e!=d.dataIndex||f!=d.seriesIndex)&&(e=d.dataIndex,f=d.seriesIndex,jQuery(".chart-tooltip").remove(),d.series.points.show||d.series.enable_tooltip)){var g=d.series.data[d.dataIndex][1];tooltip_content="",d.series.prepend_label&&(tooltip_content=tooltip_content+d.series.label+": "),d.series.prepend_tooltip&&(tooltip_content+=d.series.prepend_tooltip),tooltip_content+=g,d.series.append_tooltip&&(tooltip_content+=d.series.append_tooltip),d.series.pie.show?b(c.pageX,c.pageY,tooltip_content):b(d.pageX,d.pageY,tooltip_content)}}else jQuery(".chart-tooltip").remove(),e=null})}),jQuery(function(a){a(".user-role input[type=radio]").on("change",function(){var b=a(this).val();"seller"===b?(a(".show_if_seller").slideDown(),a(".tc_check_box").length>0&&a("input[name=register]").attr("disabled","disabled")):(a(".show_if_seller").slideUp(),a(".tc_check_box").length>0&&a("input[name=register]").removeAttr("disabled"))}),a(".tc_check_box").on("click",function(){var b=a(this).val();console.log(b),a(this).prop("checked")?(a("input[name=register]").removeAttr("disabled"),a("input[name=dokan_migration]").removeAttr("disabled")):(a("input[name=register]").attr("disabled","disabled"),a("input[name=dokan_migration]").attr("disabled","disabled"))}),a(".tc_check_box").length>0&&a("input[name=dokan_migration]").attr("disabled","disabled"),a("#company-name").on("focusout",function(){var b=a(this).val().toLowerCase().replace(/-+/g,"").replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"");a("#seller-url").val(b),a("#url-alart").text(b),a("#seller-url").focus()}),a("#seller-url").keydown(function(b){a(this).val();-1!==a.inArray(b.keyCode,[46,8,9,27,13,91,109,110,173,189,190])||65==b.keyCode&&b.ctrlKey===!0||b.keyCode>=35&&b.keyCode<=39||(b.shiftKey||(b.keyCode<65||b.keyCode>90)&&(b.keyCode<48||b.keyCode>57))&&(b.keyCode<96||b.keyCode>105)&&b.preventDefault()}),a("#seller-url").keyup(function(b){a("#url-alart").text(a(this).val())}),a("#shop-phone").keydown(function(b){-1!==a.inArray(b.keyCode,[46,8,9,27,13,91,107,109,110,187,189,190])||65==b.keyCode&&b.ctrlKey===!0||b.keyCode>=35&&b.keyCode<=39||(b.shiftKey||b.keyCode<48||b.keyCode>57)&&(b.keyCode<96||b.keyCode>105)&&b.preventDefault()}),a("#seller-url").on("focusout",function(){var b=a(this),c={action:"shop_url",url_slug:b.val(),_nonce:dokan.nonce};if(""!==b.val()){var d=b.closest(".form-row");d.block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}}),a.post(dokan.ajaxurl,c,function(b){0==b?(a("#url-alart").removeClass("text-success").addClass("text-danger"),a("#url-alart-mgs").removeClass("text-success").addClass("text-danger").text(dokan.seller.notAvailable)):(a("#url-alart").removeClass("text-danger").addClass("text-success"),a("#url-alart-mgs").removeClass("text-danger").addClass("text-success").text(dokan.seller.available)),d.unblock()})}})}),function(a){a.validator.setDefaults({ignore:":hidden"});var b=function(b,c){var d=a(c).closest(".form-group");d.addClass("has-error").append(b)},c=function(b,c){a(c).closest(".form-group").removeClass("has-error")},d={init:function(){var b=this;return a("a.dokan-banner-drag").on("click",this.imageUpload),a("a.dokan-remove-banner-image").on("click",this.removeBanner),a("a.dokan-gravatar-drag").on("click",this.gragatarImageUpload),a("a.dokan-remove-gravatar-image").on("click",this.removeGravatar),this.validateForm(b),!1},imageUpload:function(b){b.preventDefault();var c,d=a(this);return c?void c.open():(c=wp.media.frames.file_frame=wp.media({title:jQuery(this).data("uploader_title"),button:{text:jQuery(this).data("uploader_button_text")},multiple:!1}),c.on("select",function(){var a=c.state().get("selection").first().toJSON(),b=d.closest(".dokan-banner");b.find("input.dokan-file-field").val(a.id),b.find("img.dokan-banner-img").attr("src",a.url),d.parent().siblings(".image-wrap",b).removeClass("dokan-hide"),d.parent(".button-area").addClass("dokan-hide")}),void c.open())},gragatarImageUpload:function(b){b.preventDefault();var c,d=a(this);return c?void c.open():(c=wp.media.frames.file_frame=wp.media({title:jQuery(this).data("uploader_title"),button:{text:jQuery(this).data("uploader_button_text")},multiple:!1}),c.on("select",function(){var a=c.state().get("selection").first().toJSON(),b=d.closest(".dokan-gravatar");b.find("input.dokan-file-field").val(a.id),b.find("img.dokan-gravatar-img").attr("src",a.url),d.parent().siblings(".gravatar-wrap",b).removeClass("dokan-hide"),d.parent(".gravatar-button-area").addClass("dokan-hide")}),void c.open())},submitSettings:function(b){"undefined"!=typeof tinyMCE&&tinyMCE.triggerSave();var c=a("form#"+b),d=c.serialize()+"&action=dokan_settings&form_id="+b;c.find(".ajax_prev").append('<span class="dokan-loading"> </span>'),a.post(dokan.ajaxurl,d,function(b){c.find("span.dokan-loading").remove(),a("html,body").animate({scrollTop:100}),b.success?(a(".dokan-ajax-response").html(a("<div/>",{"class":"dokan-alert dokan-alert-success",html:"<p>"+b.data.msg+"</p>"})),a(".dokan-ajax-response").append(b.data.progress)):a(".dokan-ajax-response").html(a("<div/>",{"class":"dokan-alert dokan-alert-danger",html:"<p>"+b.data+"</p>"}))})},validateForm:function(d){a("form#settings-form, form#profile-form, form#store-form, form#payment-form").validate({submitHandler:function(a){d.submitSettings(a.getAttribute("id"))},errorElement:"span",errorClass:"error",errorPlacement:b,success:c})},removeBanner:function(b){b.preventDefault();var c=a(this),d=c.closest(".image-wrap"),e=d.siblings(".button-area");d.find("input.dokan-file-field").val("0"),d.addClass("dokan-hide"),e.removeClass("dokan-hide")},removeGravatar:function(b){b.preventDefault();var c=a(this),d=c.closest(".gravatar-wrap"),e=d.siblings(".gravatar-button-area");d.find("input.dokan-file-field").val("0"),d.addClass("dokan-hide"),e.removeClass("dokan-hide")}},e={init:function(){var a=this;this.withdrawValidate(a)},withdrawValidate:function(d){a("form.withdraw").validate({errorElement:"span",errorClass:"error",errorPlacement:b,success:c})}},f={init:function(){var a=this;this.couponsValidation(a)},couponsValidation:function(d){a("form.coupons").validate({errorElement:"span",errorClass:"error",errorPlacement:b,success:c})}},g={init:function(){this.validate(this)},validate:function(d){a("form#dokan-form-contact-seller").validate({errorPlacement:b,success:c,submitHandler:function(b){a(b).block({message:null,overlayCSS:{background:"#fff url("+dokan.ajax_loader+") no-repeat center",opacity:.6}});var c=a(b).serialize();a.post(dokan.ajaxurl,c,function(c){a(b).unblock(),"undefined"!=typeof c.data&&a(b).find(".ajax-response").html(c.data),a(b).find("input[type=text], input[type=email], textarea").val("").removeClass("valid")})}})}},h={init:function(){this.validate(this)},validate:function(d){a("form.register").validate({errorPlacement:b,success:c,submitHandler:function(a){a.submit()}})}};a(function(){d.init(),e.init(),f.init(),g.init(),h.init()})}(jQuery),function(a){a(document).ready(function(){a(".dokan-shipping-location-wrapper").on("change",".dps_country_selection",function(){var b=a(this),c={country_id:b.find(":selected").val(),action:"dps_select_state_by_country"};""==b.val()||"everywhere"==b.val()?b.closest(".dps-shipping-location-content").find("table.dps-shipping-states tbody").html(""):a.post(dokan.ajaxurl,c,function(a){a.success&&b.closest(".dps-shipping-location-content").find("table.dps-shipping-states tbody").html(a.data)})})})}(jQuery),function(a){a(document).ready(function(){a(".dps-main-wrapper").on("click","a.dps-shipping-add",function(b){b.preventDefault(),html=a("#dps-shipping-hidden-lcoation-content");var c=a(html).first().clone().appendTo(a(".dokan-shipping-location-wrapper")).show();a(".dokan-shipping-location-wrapper").find(".dps-shipping-location-content").first().find("a.dps-shipping-remove").show(),a(".tips").tooltip(),c.removeAttr("id"),c.find("input,select").val(""),c.find("a.dps-shipping-remove").show()}),a(".dokan-shipping-location-wrapper").on("click","a.dps-shipping-remove",function(b){b.preventDefault(),a(this).closest(".dps-shipping-location-content").remove(),$dpsElm=a(".dokan-shipping-location-wrapper").find(".dps-shipping-location-content"),1==$dpsElm.length&&$dpsElm.first().find("a.dps-shipping-remove").hide()}),a(".dokan-shipping-location-wrapper").on("click","a.dps-add",function(b){b.preventDefault();var c=a(this).closest("tr").first().clone().appendTo(a(this).closest("table.dps-shipping-states"));c.find("input,select").val(""),c.find("a.dps-remove").show(),a(".tips").tooltip()}),a(".dokan-shipping-location-wrapper").on("click","a.dps-remove",function(b){b.preventDefault(),1==a(this).closest("table.dps-shipping-states").find("tr").length&&a(this).closest(".dps-shipping-location-content").find("td.dps_shipping_location_cost").show(),a(this).closest("tr").remove()}),a(".dokan-shipping-location-wrapper").on("change keyup",".dps_state_selection",function(){var b=a(this);""==b.val()||"-1"==b.val()?b.closest(".dps-shipping-location-content").find("td.dps_shipping_location_cost").show():b.closest(".dps-shipping-location-content").find("td.dps_shipping_location_cost").hide()}),a(".dokan-shipping-location-wrapper .dps_state_selection").trigger("change"),a(".dokan-shipping-location-wrapper .dps_state_selection").trigger("keyup"),$wrap=a(".dokan-shipping-location-wrapper").find(".dps-shipping-location-content"),1==$wrap.length&&$wrap.first().find("a.dps-shipping-remove").hide()})}(jQuery),function(a){a(document).ready(function(){a(".dokan-announcement-wrapper").on("click","a.remove_announcement",function(b){if(b.preventDefault(),confirm(dokan.delete_confirm)){var c=a(this),d={action:"dokan_announcement_remove_row",row_id:c.data("notice_row"),_wpnonce:dokan.nonce};c.closest(".dokan-announcement-wrapper-item").append('<span class="dokan-loading" style="position:absolute;top:2px; right:15px"> </span>');var e=a(".dokan-announcement-wrapper-item").length;a.post(dokan.ajaxurl,d,function(b){b.success?(c.closest(".dokan-announcement-wrapper-item").find("span.dokan-loading").remove(),c.closest(".dokan-announcement-wrapper-item").fadeOut(function(){a(this).remove(),1==e&&a(".dokan-announcement-wrapper").html(b.data)})):alert(dokan.wrong_message)})}})})}(jQuery),function(a){var b=a(".dokan-store-seo-wrapper"),c={init:function(){b.on("submit","form#dokan-store-seo-form",this.form.validate)},form:{validate:function(b){b.preventDefault();var d=a(this),e={action:"dokan_seo_form_handler",data:d.serialize()};return c.form.submit(e),!1},submit:function(b){var c=a("#dokan-seo-feedback");c.fadeOut(),a.post(dokan.ajaxurl,b,function(a){1==a.success?(c.html(a.data),c.removeClass("dokan-hide"),c.addClass("dokan-alert-success"),c.fadeIn()):(c.html(a.data),c.addClass("dokan-alert-danger"),c.removeClass("dokan-hide"),c.fadeIn())})}}};a(function(){c.init()})}(jQuery),function(a){var b=DokanValidateMsg;b.maxlength=a.validator.format(b.maxlength_msg),b.minlength=a.validator.format(b.minlength_msg),b.rangelength=a.validator.format(b.rangelength_msg),b.range=a.validator.format(b.range_msg),b.max=a.validator.format(b.max_msg),b.min=a.validator.format(b.min_msg),a.validator.messages=b,a(document).on("click","#dokan_store_tnc_enable",function(b){a(this).is(":checked")?a("#dokan_tnc_text").show():a("#dokan_tnc_text").hide()}).ready(function(b){a("#dokan_store_tnc_enable").is(":checked")?a("#dokan_tnc_text").show():a("#dokan_tnc_text").hide()})}(jQuery);